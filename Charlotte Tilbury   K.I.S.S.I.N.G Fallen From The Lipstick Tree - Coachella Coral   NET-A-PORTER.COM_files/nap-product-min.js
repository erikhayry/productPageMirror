var CoreMetricsDelegate=(function(){function d(f){var i="navHistory";var g=CookieUtil.getCookie("navHistory");g=g.replace(/"$/,"");g=g+f+'"';var h=new Date();h.setDate(h.getDate()+1);document.cookie=i+"="+g+";expires="+h.toUTCString()+";path=/"}function a(){var k="navHistory";var g=CookieUtil.getCookie("navHistory");var f;var j;var h;var i=/\](?:PRODUCT_DETAILS\[\d+\])*"$/;f=g.replace(i,"");j=f.lastIndexOf("]");h=f.substring(j+1);h=h+"]";return h}function e(h,g){var f=b(NAP.getChannel(),"coremetrics/shop/"+h+".json");$.getJSON(f,function(i){if(i.data){c(i.data,g)}})}function c(k,n){var m=k.pid.toString();var h=1;var p=k.netPrice;var g=k.brand;var f=k.productName;var n=n;var i=Math.abs(k.discount);var q=k.seasonCode;var l=k.classification;var j=k.productType;var o=k.subType;cmSetProduction();cmCreateShopAction5Tag(m,g+":"+f,h,p,g,n+"-_-"+i+"-_-"+q+"-_-"+l+"-_-"+j+"-_-"+o);cmDisplayShop5s()}function b(f,g){return"//"+window.location.hostname+"/"+f+"/api/"+g}return{updateNavHistoryCookie:d,getLastPageVisitedFromNavHistoryCookie:a,addShop5Tag:e}}());if(typeof NAP==="undefined"){var NAP={}}(function(){var b=false;var h=false;var t=".product-actions-wrapper";var w=".product-sku";var o=".response-message";var p;var l;var n;var u;var f;var m=null;var s=null;var k=null;var j=null;var y=null;var d=null;function q(A){p=".add-to-bag";l=".add-to-wishlist";n=A.msgSelectSize||NAP.i18n.message("pgProdInfoNoProduct")||"Please select a size";u=A.msgSoldout||NAP.i18n.message("form.validation.product.soldout")||"Unfortunately the size is sold out. Add it to your Wish List to see if more stock becomes available";f=A.msgComingSoon||NAP.i18n.message("copy.pgProductDetailsComingSoon.product.not.available")||"This item is Coming Soon. Add it to your Wish List to see when stock becomes available";m=A.addToBagStart||m;s=A.addToWishlistStart||s;k=A.addToBagSuccess||k;j=A.addToWishlistSuccess||j;y=A.addToBagError||y;d=A.addToWishlistError||d}function e(){$(document).on("click",p,function(){var A=$(this);var B=g(A);z(A,B);return false});if(b||h){$(document).on("click",l,function(){var A=$(this);var B=g(A);z(A,B);return false})}$(document).on("change",w,function(){var A=$(this);z(A,A.val())})}function c(B,A,C){A.empty();if(C&&B!=""){A.append("<p class='"+C+"'>"+B+"</p>")}else{if(B!=""){A.append("<p>"+B+"</p>")}}}function r(A){$.getJSON(a(A,"auth/status.json"),function(B){if(B){if(B.response==="SIGNED_IN"){b=true}else{if(B.response==="REMEMBERED"){h=true}}e()}else{e()}})}function a(A,B){return"//"+window.location.hostname+"/"+A+"/api/"+B}function g(B){var A=B.parents(t).find(w).val();return A}function x(B){var A=B.parents(t).find(o);return A}function z(C,G){var F=G.split("_");var A=F[0];var D;var E;var B=x(C);switch(A){case"-1":D=n;E="error";break;case"so":if(C.hasClass("add-to-bag")||C.hasClass("product-sku")){D=u;E="sold-out"}else{if(C.hasClass("add-to-wishlist")){D="";v(G)}}break;case"cs":if(C.hasClass("add-to-bag")||C.hasClass("product-sku")){D=f;E="coming-soon"}else{if(C.hasClass("add-to-wishlist")){D="";v(G)}}break;default:D="";if(C.hasClass("add-to-bag")){i(G)}else{if(C.hasClass("add-to-wishlist")){v(G)}}break}c(D,B,E)}function i(A){if(typeof m==="function"){m.call()}NAP.basketDelegate.addSkuToBasket(A,"API",{callback:function(B){if(typeof k==="function"){k.call(this,B)}},handleError:function(B){if(typeof y==="function"){y.call(this,B)}}})}function v(A){if(typeof s==="function"){s.call()}NAP.basketDelegate.addSkuToWishlist(A,"API",{callback:function(B){if(typeof j==="function"){j.call(this,B)}},handleError:function(B){if(typeof d==="function"){d.call(this,B)}}})}NAP.productActions={init:function(A){if(typeof A==="undefined"){var A={}}q(A);r(NAP.getChannel())}}}());(function(g){var d={add_to_card_bt:".shoppingbag",add_to_wishlist:".wishlist",proceed_bt:".proceed-to-purchase",mini_bag:"#header .shopping-bag-container",header_height:g("#header").height()};var n="createTouch" in document,b;var k=g("<p/>").attr({"class":"error-message"}).css({display:"none"});var f;function l(r,q,p){g(".response-message").empty();if(r!==undefined){g(".response-message").append(k);k.html(r).fadeIn()}if(p===true){k.hide()}if(q===true){g(d.proceed_bt).hide()}else{g(d.proceed_bt).fadeIn()}}function c(t,p){var q;var s;if(t=="bag"){var u=NAP.i18n.message("copy.productPage.addedToBag");var r=NAP.i18n.message("wardrobe.wishlist.notAdded");q={ADDED:u,ADDED_SOME:u,INCREASE_QUANTITY:u};s={ADDED_ALREADY:NAP.i18n.message("wardrobe.wishlist.alreadyAdded"),NO_DATA_TO_ADD:r,MAXIMUM_ITEMS_EXCEED:r,NO_PURCHASABLE:r,SOLD_OUT:NAP.i18n.message("form.validation.product.soldout")}}else{if(t=="wishlist"){q={ADDED:NAP.i18n.message("copy.addedToWishlist"),ALREADY_ADDED:NAP.i18n.message("wardrobe.wishlist.alreadyAdded")};s={NOT_ADDED:NAP.i18n.message("wardrobe.wishlist.notAdded"),WISHLIST_DOES_NOT_EXIST:NAP.i18n.message("wardrobe.wishlist.notAdded")}}}return[q,s]}function i(s,p,u){var r,q,t;switch(s.result){case"PRODUCT_ADDED":r="ADDED";break;case"BASKET_NOT_UPDATED":break;case"SIZE_SOLD_OUT":r="SOLD_OUT";break;case"ADDED":r="ADDED";break;default:r="NO_PURCHASABLE";break}q=c(u)[0];t=c(u)[1];if(r in q){r=q[r];l(r,false,true);a()}else{r=t[r];l(r,true,false)}}function h(s,q,r){var p;var t=NAP.i18n.message("copy.bag.Sale.de.discount");if(t===undefined){t=""}if(r){p=NAP.i18n.message("copy.bag.Sale.was")+q+' <div class="sale">'+NAP.i18n.message("copy.bag.Sale.now")+s+"  "+t+r+"%"+NAP.i18n.message("copy.bag.Sale.discount")+"</div>"}else{p=q}return p}function m(y){var t=y.basketItems,w=y.totalQuantity,v;for(var r in t){if(f===t[r].sku){v=t[r];break}}var s="/product/"+v.pid;var z=" ";if(v.size!==null){z=v.size}var x=h(v.adjustedPriceForDisplay,v.originalPriceForDisplay,v.adjustedPercentage);var q=['<div class="desc">','<div class="designer">'+v.designer+"</div>",'<div class="product-title">'+v.title+"</div>",'<div class="size">'+z+"</div>",'<div class="price">'+x+"</div>","</div>"].join("");var p=['<li class="product">','<div class="product-image">','<a href="'+s+'" class="product-page-link">','<img src="//cache.net-a-porter.com/images/products/'+v.pid+"/"+v.pid+'_in_s.jpg" " alt="Product Image" />',"</a>","</div>",'<div class="product-desc">'+q+"</div>","</li>"].join("");var u=['<div class="shopping-bag">','<div class="title">',"<h1>"+NAP.i18n.message("copy.bag.recentlyAdded")+"</h1>","</div> ",'<div class="products">',"<ul>"+p+"</ul>","</div>",'<div class="proceed">','<a href="/'+NAP.getChannel()+'/shoppingbag.nap" class="primary-button checkout">'+NAP.i18n.message("copy.bag.viewbag")+"</a>","</div>","</div>"].join("");g(d.mini_bag).find(".shopping-bag").remove();o();g(d.mini_bag).append(u);g(".arrow-top").show(1,function(){g(d.mini_bag+", .arrow-border").fadeIn("1000")});e()}function o(){if(g(window).scrollTop()>31){g(d.mini_bag).css({position:"fixed",top:"-1px"},100);g(".arrow-border").css({position:"fixed",top:"-11px"},100);g(".arrow-border").css({position:"fixed",top:"-12px"},100)}else{g(d.mini_bag).css({position:"absolute",top:"50px"},100);g(".arrow-border").css({position:"absolute",top:"28px"},100);g(".arrow-top").css({position:"absolute",top:"29px"},100)}}function j(){g(d.mini_bag+", .arrow-border").fadeOut(function(){g(".arrow-top").fadeOut()})}function e(){b=setTimeout(j,3000);g(d.mini_bag).hover(function(){clearTimeout(b)},function(){clearTimeout(b);b=setTimeout(j,3000)});if(n){document.getElementById("mini-bag").addEventListener("touchstart",function(){clearTimeout(b)},false);document.getElementById("mini-bag").addEventListener("touchend",function(){clearTimeout(b);b=setTimeout(j,3000)},false)}g(document).unbind("click",j);g(document).bind("click",j);g(d.mini_bag).bind("click",function(p){p.stopPropagation()});window.addEventListener("gesturechange",o(),false)}function a(){clearTimeout(b);var p=getApiUrl(NAP.getChannel(),"basket/view.json");g.getJSON(p,function(q){if(q){m(q)}})}NAP.productActions.init({addToBagSuccess:function(r){f=r.sku;var p=r.sku.split("-")[0];var q="";i(r,undefined,"bag");NAP.init_header.updateShoppingBasket();NAP.analytics.trackAddToBag(p);q=CoreMetricsDelegate.getLastPageVisitedFromNavHistoryCookie();CoreMetricsDelegate.addShop5Tag(f,q)}});g(window).scroll(function(){o()});g(function(){g("#choose-your-size select:visible").change(function(){cmCreateElementTag("Size","Product Page")});window.fbAsyncInit=function(){FB.Event.subscribe("edge.create",function(p){cmCreateElementTag("Facebook Like","Product Page")});FB.Event.subscribe("message.send",function(p){cmCreateElementTag("Facebook Send","Product Page")})};g("#pinterest").click(function(){cmCreateElementTag("Pinit","Product Page");return true});g("#tell-a-friend-link").click(function(){cmCreateConversionEventTag("TELL_A_FRIEND","1","PRODUCTPAGE","1")});g('input[name="wishlist"]').click(function(){cmCreateConversionEventTag("WISHLIST_ADD","2","WISHLIST","1")});g(".fashion-advisor-link").click(function(){cmCreateConversionEventTag("EDITOR_SPEAK_TO","1","PRODUCTPAGE","1")});g(".customer-care-link").click(function(){cmCreateConversionEventTag("SIZE_SPEAK_TO","1","PRODUCTPAGE","1")});g("#full-size-image-link").click(function(){cmCreateElementTag("View Full Size","Product Page")})})}(jQuery));if(typeof NAP=="undefined"){var NAP={}}NAP.addBookmark=function(b,j,e){var d=window.location.href,c=encodeURIComponent(d),m=document.title,j=j||400,e=e||{},p=null;var l=document.getElementById("medium-image");if(l){p=l.src}e.selector=e.selector||"#add-bookmark-link";e.addString=e.addString||"";e.pid=e.pid||"";e.permanent=e.permanent||false;e.onDataLoaded=e.onDataLoaded||null;var o={delicious:{title:"<img src='/nap/build/2014.01.03/images/productDetails/delicious.gif' title='delicious'>",url:"http://delicious.com/save?v=5&amp;noui&amp;jump=close&amp;url="+c+e.addString+"&amp;title="+m,windowWidth:630,windowHeight:500,site:"nap,outnet,shoptalk",scroll:0},facebook:{title:"<img src='/nap/build/2014.01.03/images/productDetails/facebook.gif' title='facebook'>",url:"http://www.facebook.com/sharer.php?u="+c+e.addString+"&t="+m,windowWidth:630,windowHeight:500,site:"nap,outnet,shoptalk,nap-mobile",scroll:0},google:{title:"<img src='/nap/build/2014.01.03/images/productDetails/google.gif' title='google'>",url:"http://www.google.com/bookmarks/mark?op=add&bkmk="+c+e.addString+"&title="+m,windowWidth:700,windowHeight:600,site:"nap,outnet,shoptalk,nap-mobile",scroll:1},twitter:{title:"<img src='/nap/build/2014.01.03/images/productDetails/twitter.gif' title='twitter'>",url:"http://twitter.com/home?status="+c+e.addString,windowWidth:800,windowHeight:600,site:"nap,outnet,shoptalk,nap-mobile",scroll:1}};if(e.onDataLoaded){e.onDataLoaded(o)}var h,g=[];for(var n in o){var a=o[n];if(a.site.toLowerCase().indexOf(b.toLowerCase())!=-1){h='<div class="'+n+' bookmark-link" onmouseover="NAP.bookmarkUtils.hilite(this)" onmouseout="NAP.bookmarkUtils.lolite(this)" onclick="NAP.bookmarkUtils.bookmarkThis(\''+n+"')\"><span>"+a.title+"</span></div>";g.push(h)}}var k=['<div id="add-bookmark-container">','<div id="add-bookmark-content">','<div class="add-bookmark-list">',g.join(""),"</div>","</div>","</div>"].join("");function f(){$("#add-bookmark-container").remove()}if(false==e.permanent){var i;$(e.selector).hover(function(){clearInterval(i);$(k).appendTo($(this))},function(){i=setInterval(f,j)}).click(function(q){q.preventDefault()});$(".bookmark-link").click(function(q){q.stopPropagation();f()})}else{$(k).appendTo($(e.selector))}NAP.bookmarkUtils={hilite:function(q){q.style.backgroundColor="#F2F2F2"},lolite:function(q){q.style.backgroundColor="transparent"},bookmarkThis:function(r){var q=o[r],s="";window.open(q.url,"_blank","scrollbars="+q.scroll+",toolbar=0,status=0,width="+q.windowWidth+",height="+q.windowHeight);$.get("/"+channel+"/share.nap?pid="+e.pid)},showHelp:function(){},hideHelp:function(){}}};$(document).ready(function(){var a="";try{a=document.location.href.match(/[0-9]{5}/g)[0]}catch(b){}try{NAP.addBookmark("nap",400,{pid:a})}catch(b){}});function getCookie(a){if(document.cookie.length>0){c_start=document.cookie.indexOf(a+"=");if(c_start!=-1){c_start=c_start+a.length+1;c_end=document.cookie.indexOf(";",c_start);if(c_end==-1){c_end=document.cookie.length}return unescape(document.cookie.substring(c_start,c_end))}}return""}var locale_channel=getCookie("channel"),overlay="&amp;overlay=true";function designerEmailUpdate(a,b){b=b||{};b.url=b.url||"/"+locale_channel+"/designerUpdatesRegistration.nap?designerKey="+a+overlay;NAP.overlayPanel({title:NAP.i18n.message("copy.register.designerUpdatesHeader"),message:"<iframe src='"+b.url+"' frameborder='0' id='registration-form' name='registrationFrame' width='850'></iframe>",type:"info",theme:"light",addClass:"print-dialog",width:888,height:654})}function registerAndMoveFromBasketToWishlist(a,b){b=b||{};b.url=b.url||"/"+locale_channel+"/registerbaskettowishlist.nap?productid="+a+overlay;NAP.overlayPanel({title:NAP.i18n.message("shopping.basket.overlay.title"),message:"<iframe src='"+b.url+"' frameborder='0' id='registration-form' name='registrationFrame' height='480' width='850'></iframe>",type:"info",theme:"light",addClass:"print-dialog",width:888,height:554})}function itemEmailUpdate(b,d){d=d||{};d.url=d.url||"/"+locale_channel+"/productUpdatesRegistration.nap?productId="+b+overlay;d.status=d.status||"";d.overlay=d.overlay||"yes";var c="_"+b,a=(product.length==0||typeof product=="undefined")?d.status:product[c].status;if(a==0||a=="UNAVAILABLE"){if(d.overlay=="yes"){NAP.overlayPanel({title:NAP.i18n.message("NAP.popup.itemUpdate")+" - <span class='overlay-title-lc'>"+NAP.i18n.message("NAP.popup.itemStock")+"</span>",message:"<iframe src='"+d.url+"' frameborder='0' id='registration-form' name='registrationFrame' height='480' width='850'></iframe>",type:"info",theme:"light",addClass:"print-dialog",width:888,height:554})}else{window.open(d.url,"_blank")}}else{window.location.href="/"+locale_channel+"/product/"+b}};if(typeof NAP=="undefined"){var NAP={}}NAP.overlayPanel=function(h){var i=h.confirmText||NAP.i18n.message("copy.dialog.button.confirm")||"OK",g=h.cancelText||NAP.i18n.message("copy.dialog.button.cancel")||"Cancel",k=(h.height)?"height:"+h.height+"px;":"",n=(h.width)?"width:"+h.width+"px;":"width:180px;",r=(h.theme.toLowerCase()=="light")?"#FFF":"#000",o=(navigator.appName.indexOf("Microsoft")!=-1)?21:0,f=$(document).height(),u=$(document).width(),s=h.modal||false,t=h.overlayOpacity||false,l=h.removeClose||false,c=NAP.i18n.message("jquery.nap.overlay.close"),a=(s)?"":((l)?"":'<div id="lightbox-close" title="'+c+'">'+c+"</div>"),m=['<div id="overlay-mask" style="height:',f,"px; width:",u,"px; position:fixed; top:0; left:0; background-color:",r,'; opacity:0; filter:alpha(opacity=0); z-index:999999;">&nbsp;</div>'].join(""),e=h.verticalButtons||false,q=((h.type=="confirm")&&e)?['<p><input type="button" id="overlay-confirm-button" class="secondary-button lightbox-yes" value="',i,'" /></p><p><input type="button" value="',g,'" id="overlay-cancel-button" class="secondary-button lightbox-no" /></p>'].join(""):(h.type=="confirm")?['<input type="button" id="overlay-confirm-button" class="secondary-button lightbox-yes" value="',i,'" />&nbsp;<input type="button" value="',g,'" id="overlay-cancel-button" class="secondary-button lightbox-no" />'].join(""):(h.type=="alert")?['<input type="button" id="overlay-confirm-button" class="secondary-button lightbox-ok" value="',i,'" />'].join(""):"",d=['<div id="lightbox-container" style="position:absolute;z-index:1000001;',n,k,'">','<div id="lightbox-top">',a,h.title,"</div>",'<div id="lightbox-middle">',h.message,"</div>",'<div id="lightbox-bottom">',q,"</div></div>"].join("");function p(){$("#overlay-mask").fadeOut("fast",function(){$(this).remove()});$("#lightbox-container").fadeOut("fast",function(){$(this).remove()})}function j(){p();var v=((t===false)?((h.theme=="light")?0.5:0.35):t);$(m).appendTo($("body")).animate({opacity:v},"fast",function(){$(d).appendTo($("body"));var x=(typeof h.left!="undefined")?h.left:Math.max((($(window).width())/2)-(parseInt($("#lightbox-container").width())/2)+$(document).scrollLeft(),0),w=(typeof h.top!="undefined")?h.top:Math.max((($(window).height())/2)-(parseInt($("#lightbox-container").height())/2)+$(document).scrollTop(),0);$("#lightbox-container").css({left:x+"px",top:w+"px"}).fadeIn("fast",function(){if(h.onReady){h.onReady()}});if(typeof h.addClass!="undefined"){$("#lightbox-container").addClass(h.addClass)}b()});if(!s){$("#overlay-mask").click(function(){if(h.callback){h.callback()}p()})}}function b(){if(h.type=="confirm"){$("#overlay-confirm-button").click(function(){if(h.callback){h.callback(true)}p()});$("#overlay-cancel-button").click(function(){if(h.callback){h.callback(false)}p()})}else{$("#overlay-confirm-button").click(function(){if(h.callback){h.callback()}p()})}$("#lightbox-close").click(function(){if(h.callback){h.callback()}p()})}j()};var clientTools={};var OSName;var _deviceType;var browserLangCode;var browserLangName;var browserLangCookie;var browserLangPref;(function(){function a(){var f="Unknown OS";if(navigator.appVersion.indexOf("Win")!=-1){f="Windows"}if(navigator.appVersion.indexOf("Mac")!=-1){f="MacOS"}if(navigator.appVersion.indexOf("X11")!=-1){f="UNIX"}if(navigator.appVersion.indexOf("Linux")!=-1){f="Linux"}return f}clientTools.detectOS=a;function b(){var f="desktop";if(navigator.userAgent.indexOf("iPad")!=-1){f="iPad"}return f}clientTools.detectDevice=b;function e(){var g=$("body").attr("class").match(/lang-[a-z]+/);if(g){var h=g[0].split("lang-"),f=(h[h.length-1]);return f}}clientTools.detectLangCode=e;function c(){var g=$("body").attr("class").match(/lang-[a-z]+/);if(g){var i=g[0].split("lang-"),f=(i[i.length-1]),h;switch(f){case"en":h="English";break;case"de":h="Deutsch";break;case"fr":h="Francais";break;case"it":h="Italiano";break;case"pt":h="Portugu&#234;s";break;case"es":h="Espa&#241;ol";break;case"ar":h="Arabic";break}return h}}clientTools.detectLangName=c;function d(){var f=CookieUtil.getCookie("country_iso");if(f!="FR"&&f!="DE"){f="GB"}return f}clientTools.detectLangNameCookie=d}());$(document).ready(function(){OSName=clientTools.detectOS();_deviceType=clientTools.detectDevice();browserLangCode=clientTools.detectLangCode();browserLangName=clientTools.detectLangName();browserLangCookie=clientTools.detectLangNameCookie();browserLangPref=browserLangCode;if(browserLangPref!="fr"&&browserLangPref!="de"){browserLangPref="en"}});jQuery.extend(jQuery.easing,{easeInQuad:function(e,f,a,h,g){return h*(f/=g)*f+a},easeOutQuad:function(e,f,a,h,g){return -h*(f/=g)*(f-2)+a},easeInOutQuad:function(e,f,a,h,g){if((f/=g/2)<1){return h/2*f*f+a}return -h/2*((--f)*(f-2)-1)+a},easeInCubic:function(e,f,a,h,g){return h*(f/=g)*f*f+a},easeOutCubic:function(e,f,a,h,g){return h*((f=f/g-1)*f*f+1)+a},easeInOutCubic:function(e,f,a,h,g){if((f/=g/2)<1){return h/2*f*f*f+a}return h/2*((f-=2)*f*f+2)+a},easeInQuart:function(e,f,a,h,g){return h*(f/=g)*f*f*f+a},easeOutQuart:function(e,f,a,h,g){return -h*((f=f/g-1)*f*f*f-1)+a},easeInOutQuart:function(e,f,a,h,g){if((f/=g/2)<1){return h/2*f*f*f*f+a}return -h/2*((f-=2)*f*f*f-2)+a},easeInQuint:function(e,f,a,h,g){return h*(f/=g)*f*f*f*f+a},easeOutQuint:function(e,f,a,h,g){return h*((f=f/g-1)*f*f*f*f+1)+a},easeInOutQuint:function(e,f,a,h,g){if((f/=g/2)<1){return h/2*f*f*f*f*f+a}return h/2*((f-=2)*f*f*f*f+2)+a},easeInSine:function(e,f,a,h,g){return -h*Math.cos(f/g*(Math.PI/2))+h+a},easeOutSine:function(e,f,a,h,g){return h*Math.sin(f/g*(Math.PI/2))+a},easeInOutSine:function(e,f,a,h,g){return -h/2*(Math.cos(Math.PI*f/g)-1)+a},easeInExpo:function(e,f,a,h,g){return(f==0)?a:h*Math.pow(2,10*(f/g-1))+a},easeOutExpo:function(e,f,a,h,g){return(f==g)?a+h:h*(-Math.pow(2,-10*f/g)+1)+a},easeInOutExpo:function(e,f,a,h,g){if(f==0){return a}if(f==g){return a+h}if((f/=g/2)<1){return h/2*Math.pow(2,10*(f-1))+a}return h/2*(-Math.pow(2,-10*--f)+2)+a},easeInCirc:function(e,f,a,h,g){return -h*(Math.sqrt(1-(f/=g)*f)-1)+a},easeOutCirc:function(e,f,a,h,g){return h*Math.sqrt(1-(f=f/g-1)*f)+a},easeInOutCirc:function(e,f,a,h,g){if((f/=g/2)<1){return -h/2*(Math.sqrt(1-f*f)-1)+a}return h/2*(Math.sqrt(1-(f-=2)*f)+1)+a},easeInElastic:function(f,h,e,l,k){var i=1.70158;var j=0;var g=l;if(h==0){return e}if((h/=k)==1){return e+l}if(!j){j=k*0.3}if(g<Math.abs(l)){g=l;var i=j/4}else{var i=j/(2*Math.PI)*Math.asin(l/g)}return -(g*Math.pow(2,10*(h-=1))*Math.sin((h*k-i)*(2*Math.PI)/j))+e},easeOutElastic:function(f,h,e,l,k){var i=1.70158;var j=0;var g=l;if(h==0){return e}if((h/=k)==1){return e+l}if(!j){j=k*0.3}if(g<Math.abs(l)){g=l;var i=j/4}else{var i=j/(2*Math.PI)*Math.asin(l/g)}return g*Math.pow(2,-10*h)*Math.sin((h*k-i)*(2*Math.PI)/j)+l+e},easeInOutElastic:function(f,h,e,l,k){var i=1.70158;var j=0;var g=l;if(h==0){return e}if((h/=k/2)==2){return e+l}if(!j){j=k*(0.3*1.5)}if(g<Math.abs(l)){g=l;var i=j/4}else{var i=j/(2*Math.PI)*Math.asin(l/g)}if(h<1){return -0.5*(g*Math.pow(2,10*(h-=1))*Math.sin((h*k-i)*(2*Math.PI)/j))+e}return g*Math.pow(2,-10*(h-=1))*Math.sin((h*k-i)*(2*Math.PI)/j)*0.5+l+e},easeInBack:function(e,f,a,i,h,g){if(g==undefined){g=1.70158}return i*(f/=h)*f*((g+1)*f-g)+a},easeOutBack:function(e,f,a,i,h,g){if(g==undefined){g=1.70158}return i*((f=f/h-1)*f*((g+1)*f+g)+1)+a},easeInOutBack:function(e,f,a,i,h,g){if(g==undefined){g=1.70158}if((f/=h/2)<1){return i/2*(f*f*(((g*=(1.525))+1)*f-g))+a}return i/2*((f-=2)*f*(((g*=(1.525))+1)*f+g)+2)+a},easeInBounce:function(e,f,a,h,g){return h-jQuery.easing.easeOutBounce(e,g-f,0,h,g)+a},easeOutBounce:function(e,f,a,h,g){if((f/=g)<(1/2.75)){return h*(7.5625*f*f)+a}else{if(f<(2/2.75)){return h*(7.5625*(f-=(1.5/2.75))*f+0.75)+a}else{if(f<(2.5/2.75)){return h*(7.5625*(f-=(2.25/2.75))*f+0.9375)+a}else{return h*(7.5625*(f-=(2.625/2.75))*f+0.984375)+a}}}},easeInOutBounce:function(e,f,a,h,g){if(f<g/2){return jQuery.easing.easeInBounce(e,f*2,0,h,g)*0.5+a}return jQuery.easing.easeOutBounce(e,f*2-g,0,h,g)*0.5+h*0.5+a}});/* 
jquery.event.drag.js ~ v1.5 ~ Copyright (c) 2008, Three Dub Media (http://threedubmedia.com)  
Liscensed under the MIT License ~ http://threedubmedia.googlecode.com/files/MIT-LICENSE.txt
*/
(function(E){E.fn.drag=function(L,K,J){if(K){this.bind("dragstart",L)}if(J){this.bind("dragend",J)}return !L?this.trigger("drag"):this.bind("drag",K?K:L)};var A=E.event,B=A.special,F=B.drag={not:":input",distance:0,which:1,dragging:false,setup:function(J){J=E.extend({distance:F.distance,which:F.which,not:F.not},J||{});J.distance=I(J.distance);A.add(this,"mousedown",H,J);if(this.attachEvent){this.attachEvent("ondragstart",D)}},teardown:function(){A.remove(this,"mousedown",H);if(this===F.dragging){F.dragging=F.proxy=false}G(this,true);if(this.detachEvent){this.detachEvent("ondragstart",D)}}};B.dragstart=B.dragend={setup:function(){},teardown:function(){}};function H(L){var K=this,J,M=L.data||{};if(M.elem){K=L.dragTarget=M.elem;L.dragProxy=F.proxy||K;L.cursorOffsetX=M.pageX-M.left;L.cursorOffsetY=M.pageY-M.top;L.offsetX=L.pageX-L.cursorOffsetX;L.offsetY=L.pageY-L.cursorOffsetY}else{if(F.dragging||(M.which>0&&L.which!=M.which)||E(L.target).is(M.not)){return }}switch(L.type){case"mousedown":E.extend(M,E(K).offset(),{elem:K,target:L.target,pageX:L.pageX,pageY:L.pageY});A.add(document,"mousemove mouseup",H,M);G(K,false);F.dragging=null;return false;case !F.dragging&&"mousemove":if(I(L.pageX-M.pageX)+I(L.pageY-M.pageY)<M.distance){break}L.target=M.target;J=C(L,"dragstart",K);if(J!==false){F.dragging=K;F.proxy=L.dragProxy=E(J||K)[0]}case"mousemove":if(F.dragging){J=C(L,"drag",K);if(B.drop){B.drop.allowed=(J!==false);B.drop.handler(L)}if(J!==false){break}L.type="mouseup"}case"mouseup":A.remove(document,"mousemove mouseup",H);if(F.dragging){if(B.drop){B.drop.handler(L)}C(L,"dragend",K)}G(K,true);F.dragging=F.proxy=M.elem=false;break}return true}function C(M,K,L){M.type=K;var J=E.event.handle.call(L,M);return J===false?false:J||M.result}function I(J){return Math.pow(J,2)}function D(){return(F.dragging===false)}function G(K,J){if(!K){return }K.unselectable=J?"off":"on";K.onselectstart=function(){return J};if(K.style){K.style.MozUserSelect=J?"":"none"}}})(jQuery);var swfobject=function(){var b="undefined",Q="object",n="Shockwave Flash",p="ShockwaveFlash.ShockwaveFlash",P="application/x-shockwave-flash",m="SWFObjectExprInst",j=window,K=document,T=navigator,o=[],N=[],i=[],d=[],J,Z=null,M=null,l=null,e=false,A=false;var h=function(){var v=typeof K.getElementById!=b&&typeof K.getElementsByTagName!=b&&typeof K.createElement!=b,AC=[0,0,0],x=null;if(typeof T.plugins!=b&&typeof T.plugins[n]==Q){x=T.plugins[n].description;if(x&&!(typeof T.mimeTypes!=b&&T.mimeTypes[P]&&!T.mimeTypes[P].enabledPlugin)){x=x.replace(/^.*\s+(\S+\s+\S+$)/,"$1");AC[0]=parseInt(x.replace(/^(.*)\..*$/,"$1"),10);AC[1]=parseInt(x.replace(/^.*\.(.*)\s.*$/,"$1"),10);AC[2]=/r/.test(x)?parseInt(x.replace(/^.*r(.*)$/,"$1"),10):0}}else{if(typeof j.ActiveXObject!=b){var y=null,AB=false;try{y=new ActiveXObject(p+".7")}catch(t){try{y=new ActiveXObject(p+".6");AC=[6,0,21];y.AllowScriptAccess="always"}catch(t){if(AC[0]==6){AB=true}}if(!AB){try{y=new ActiveXObject(p)}catch(t){}}}if(!AB&&y){try{x=y.GetVariable("$version");if(x){x=x.split(" ")[1].split(",");AC=[parseInt(x[0],10),parseInt(x[1],10),parseInt(x[2],10)]}}catch(t){}}}}var AD=T.userAgent.toLowerCase(),r=T.platform.toLowerCase(),AA=/webkit/.test(AD)?parseFloat(AD.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):false,q=false,z=r?/win/.test(r):/win/.test(AD),w=r?/mac/.test(r):/mac/.test(AD);
/*@cc_on q=true;@if(@_win32)z=true;@elif(@_mac)w=true;@end@*/
return{w3cdom:v,pv:AC,webkit:AA,ie:q,win:z,mac:w}}();var L=function(){if(!h.w3cdom){return}f(H);if(h.ie&&h.win){try{K.write("<script id=__ie_ondomload defer=true src=//:><\/script>");J=C("__ie_ondomload");if(J){I(J,"onreadystatechange",S)}}catch(q){}}if(h.webkit&&typeof K.readyState!=b){Z=setInterval(function(){if(/loaded|complete/.test(K.readyState)){E()}},10)}if(typeof K.addEventListener!=b){K.addEventListener("DOMContentLoaded",E,null)}R(E)}();function S(){if(J.readyState=="complete"){J.parentNode.removeChild(J);E()}}function E(){if(e){return}if(h.ie&&h.win){var v=a("span");try{var u=K.getElementsByTagName("body")[0].appendChild(v);u.parentNode.removeChild(u)}catch(w){return}}e=true;if(Z){clearInterval(Z);Z=null}var q=o.length;for(var r=0;r<q;r++){o[r]()}}function f(q){if(e){q()}else{o[o.length]=q}}function R(r){if(typeof j.addEventListener!=b){j.addEventListener("load",r,false)}else{if(typeof K.addEventListener!=b){K.addEventListener("load",r,false)}else{if(typeof j.attachEvent!=b){I(j,"onload",r)}else{if(typeof j.onload=="function"){var q=j.onload;j.onload=function(){q();r()}}else{j.onload=r}}}}}function H(){var t=N.length;for(var q=0;q<t;q++){var u=N[q].id;if(h.pv[0]>0){var r=C(u);if(r){N[q].width=r.getAttribute("width")?r.getAttribute("width"):"0";N[q].height=r.getAttribute("height")?r.getAttribute("height"):"0";if(c(N[q].swfVersion)){if(h.webkit&&h.webkit<312){Y(r)}W(u,true)}else{if(N[q].expressInstall&&!A&&c("6.0.65")&&(h.win||h.mac)){k(N[q])}else{O(r)}}}}else{W(u,true)}}}function Y(t){var q=t.getElementsByTagName(Q)[0];if(q){var w=a("embed"),y=q.attributes;if(y){var v=y.length;for(var u=0;u<v;u++){if(y[u].nodeName=="DATA"){w.setAttribute("src",y[u].nodeValue)}else{w.setAttribute(y[u].nodeName,y[u].nodeValue)}}}var x=q.childNodes;if(x){var z=x.length;for(var r=0;r<z;r++){if(x[r].nodeType==1&&x[r].nodeName=="PARAM"){w.setAttribute(x[r].getAttribute("name"),x[r].getAttribute("value"))}}}t.parentNode.replaceChild(w,t)}}function k(w){A=true;var u=C(w.id);if(u){if(w.altContentId){var y=C(w.altContentId);if(y){M=y;l=w.altContentId}}else{M=G(u)}if(!(/%$/.test(w.width))&&parseInt(w.width,10)<310){w.width="310"}if(!(/%$/.test(w.height))&&parseInt(w.height,10)<137){w.height="137"}K.title=K.title.slice(0,47)+" - Flash Player Installation";var z=h.ie&&h.win?"ActiveX":"PlugIn",q=K.title,r="MMredirectURL="+j.location+"&MMplayerType="+z+"&MMdoctitle="+q,x=w.id;if(h.ie&&h.win&&u.readyState!=4){var t=a("div");x+="SWFObjectNew";t.setAttribute("id",x);u.parentNode.insertBefore(t,u);u.style.display="none";var v=function(){u.parentNode.removeChild(u)};I(j,"onload",v)}U({data:w.expressInstall,id:m,width:w.width,height:w.height},{flashvars:r},x)}}function O(t){if(h.ie&&h.win&&t.readyState!=4){var r=a("div");t.parentNode.insertBefore(r,t);r.parentNode.replaceChild(G(t),r);t.style.display="none";var q=function(){t.parentNode.removeChild(t)};I(j,"onload",q)}else{t.parentNode.replaceChild(G(t),t)}}function G(v){var u=a("div");if(h.win&&h.ie){u.innerHTML=v.innerHTML}else{var r=v.getElementsByTagName(Q)[0];if(r){var w=r.childNodes;if(w){var q=w.length;for(var t=0;t<q;t++){if(!(w[t].nodeType==1&&w[t].nodeName=="PARAM")&&!(w[t].nodeType==8)){u.appendChild(w[t].cloneNode(true))}}}}}return u}function U(AG,AE,t){var q,v=C(t);if(v){if(typeof AG.id==b){AG.id=t}if(h.ie&&h.win){var AF="";for(var AB in AG){if(AG[AB]!=Object.prototype[AB]){if(AB.toLowerCase()=="data"){AE.movie=AG[AB]}else{if(AB.toLowerCase()=="styleclass"){AF+=' class="'+AG[AB]+'"'}else{if(AB.toLowerCase()!="classid"){AF+=" "+AB+'="'+AG[AB]+'"'}}}}}var AD="";for(var AA in AE){if(AE[AA]!=Object.prototype[AA]){AD+='<param name="'+AA+'" value="'+AE[AA]+'" />'}}v.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+AF+">"+AD+"</object>";i[i.length]=AG.id;q=C(AG.id)}else{if(h.webkit&&h.webkit<312){var AC=a("embed");AC.setAttribute("type",P);for(var z in AG){if(AG[z]!=Object.prototype[z]){if(z.toLowerCase()=="data"){AC.setAttribute("src",AG[z])}else{if(z.toLowerCase()=="styleclass"){AC.setAttribute("class",AG[z])}else{if(z.toLowerCase()!="classid"){AC.setAttribute(z,AG[z])}}}}}for(var y in AE){if(AE[y]!=Object.prototype[y]){if(y.toLowerCase()!="movie"){AC.setAttribute(y,AE[y])}}}v.parentNode.replaceChild(AC,v);q=AC}else{var u=a(Q);u.setAttribute("type",P);for(var x in AG){if(AG[x]!=Object.prototype[x]){if(x.toLowerCase()=="styleclass"){u.setAttribute("class",AG[x])}else{if(x.toLowerCase()!="classid"){u.setAttribute(x,AG[x])}}}}for(var w in AE){if(AE[w]!=Object.prototype[w]&&w.toLowerCase()!="movie"){F(u,w,AE[w])}}v.parentNode.replaceChild(u,v);q=u}}}return q}function F(t,q,r){var u=a("param");u.setAttribute("name",q);u.setAttribute("value",r);t.appendChild(u)}function X(r){var q=C(r);if(q&&(q.nodeName=="OBJECT"||q.nodeName=="EMBED")){if(h.ie&&h.win){if(q.readyState==4){B(r)}else{j.attachEvent("onload",function(){B(r)})}}else{q.parentNode.removeChild(q)}}}function B(t){var r=C(t);if(r){for(var q in r){if(typeof r[q]=="function"){r[q]=null}}r.parentNode.removeChild(r)}}function C(t){var q=null;try{q=K.getElementById(t)}catch(r){}return q}function a(q){return K.createElement(q)}function I(t,q,r){t.attachEvent(q,r);d[d.length]=[t,q,r]}function c(t){var r=h.pv,q=t.split(".");q[0]=parseInt(q[0],10);q[1]=parseInt(q[1],10)||0;q[2]=parseInt(q[2],10)||0;return(r[0]>q[0]||(r[0]==q[0]&&r[1]>q[1])||(r[0]==q[0]&&r[1]==q[1]&&r[2]>=q[2]))?true:false}function V(v,r){if(h.ie&&h.mac){return}var u=K.getElementsByTagName("head")[0],t=a("style");t.setAttribute("type","text/css");t.setAttribute("media","screen");if(!(h.ie&&h.win)&&typeof K.createTextNode!=b){t.appendChild(K.createTextNode(v+" {"+r+"}"))}u.appendChild(t);if(h.ie&&h.win&&typeof K.styleSheets!=b&&K.styleSheets.length>0){var q=K.styleSheets[K.styleSheets.length-1];if(typeof q.addRule==Q){q.addRule(v,r)}}}function W(t,q){var r=q?"visible":"hidden";if(e&&C(t)){C(t).style.visibility=r}else{V("#"+t,"visibility:"+r)}}function g(s){var r=/[\\\"<>\.;]/;var q=r.exec(s)!=null;return q?encodeURIComponent(s):s}var D=function(){if(h.ie&&h.win){window.attachEvent("onunload",function(){var w=d.length;for(var v=0;v<w;v++){d[v][0].detachEvent(d[v][1],d[v][2])}var t=i.length;for(var u=0;u<t;u++){X(i[u])}for(var r in h){h[r]=null}h=null;for(var q in swfobject){swfobject[q]=null}swfobject=null})}}();return{registerObject:function(u,q,t){if(!h.w3cdom||!u||!q){return}var r={};r.id=u;r.swfVersion=q;r.expressInstall=t?t:false;N[N.length]=r;W(u,false)},getObjectById:function(v){var q=null;if(h.w3cdom){var t=C(v);if(t){var u=t.getElementsByTagName(Q)[0];if(!u||(u&&typeof t.SetVariable!=b)){q=t}else{if(typeof u.SetVariable!=b){q=u}}}}return q},embedSWF:function(x,AE,AB,AD,q,w,r,z,AC){if(!h.w3cdom||!x||!AE||!AB||!AD||!q){return}AB+="";AD+="";if(c(q)){W(AE,false);var AA={};if(AC&&typeof AC===Q){for(var v in AC){if(AC[v]!=Object.prototype[v]){AA[v]=AC[v]}}}AA.data=x;AA.width=AB;AA.height=AD;var y={};if(z&&typeof z===Q){for(var u in z){if(z[u]!=Object.prototype[u]){y[u]=z[u]}}}if(r&&typeof r===Q){for(var t in r){if(r[t]!=Object.prototype[t]){if(typeof y.flashvars!=b){y.flashvars+="&"+t+"="+r[t]}else{y.flashvars=t+"="+r[t]}}}}f(function(){U(AA,y,AE);if(AA.id==AE){W(AE,true)}})}else{if(w&&!A&&c("6.0.65")&&(h.win||h.mac)){A=true;W(AE,false);f(function(){var AF={};AF.id=AF.altContentId=AE;AF.width=AB;AF.height=AD;AF.expressInstall=w;k(AF)})}}},getFlashPlayerVersion:function(){return{major:h.pv[0],minor:h.pv[1],release:h.pv[2]}},hasFlashPlayerVersion:c,createSWF:function(t,r,q){if(h.w3cdom){return U(t,r,q)}else{return undefined}},removeSWF:function(q){if(h.w3cdom){X(q)}},createCSS:function(r,q){if(h.w3cdom){V(r,q)}},addDomLoadEvent:f,addLoadEvent:R,getQueryParamValue:function(v){var u=K.location.search||K.location.hash;if(v==null){return g(u)}if(u){var t=u.substring(1).split("&");for(var r=0;r<t.length;r++){if(t[r].substring(0,t[r].indexOf("="))==v){return g(t[r].substring((t[r].indexOf("=")+1)))}}}return""},expressInstallCallback:function(){if(A&&M){var q=C(m);if(q){q.parentNode.replaceChild(M,q);if(l){W(l,true);if(h.ie&&h.win){M.style.display="block"}}M=null;l=null;A=false}}}}}();document.createElement("video");document.createElement("audio");document.createElement("track");var vjs=function(d,b,c){var a;if(typeof d==="string"){if(d.indexOf("#")===0){d=d.slice(1)}if(vjs.players[d]){return vjs.players[d]}else{a=vjs.el(d)}}else{a=d}if(!a||!a.nodeName){throw new TypeError("The element or ID supplied is not valid. (videojs)")}return a.player||new vjs.Player(a,b,c)};var videojs=vjs;window.videojs=window.vjs=vjs;vjs.CDN_VERSION="4.1";vjs.ACCESS_PROTOCOL=("https:"==document.location.protocol?"https://":"http://");vjs.options={techOrder:["html5","flash"],html5:{},flash:{},width:300,height:150,defaultVolume:0,children:{mediaLoader:{},posterImage:{},textTrackDisplay:{},loadingSpinner:{},bigPlayButton:{},controlBar:{}}};if(vjs.CDN_VERSION!=="GENERATED_CDN_VSN"){videojs.options.flash["swf"]=vjs.ACCESS_PROTOCOL+"vjs.zencdn.net/"+vjs.CDN_VERSION+"/video-js.swf"}vjs.players={};vjs.CoreObject=vjs.CoreObject=function(){};vjs.CoreObject.extend=function(c){var d,a;c=c||{};d=c.init||c.init||this.prototype.init||this.prototype.init||function(){};a=function(){d.apply(this,arguments)};a.prototype=vjs.obj.create(this.prototype);a.prototype.constructor=a;a.extend=vjs.CoreObject.extend;a.create=vjs.CoreObject.create;for(var b in c){if(c.hasOwnProperty(b)){a.prototype[b]=c[b]}}return a};vjs.CoreObject.create=function(){var a=vjs.obj.create(this.prototype);this.apply(a,arguments);return a};vjs.on=function(c,b,a){var d=vjs.getData(c);if(!d.handlers){d.handlers={}}if(!d.handlers[b]){d.handlers[b]=[]}if(!a.guid){a.guid=vjs.guid++}d.handlers[b].push(a);if(!d.dispatcher){d.disabled=false;d.dispatcher=function(g){if(d.disabled){return}g=vjs.fixEvent(g);var f=d.handlers[g.type];if(f){var h=f.slice(0);for(var e=0,j=h.length;e<j;e++){if(g.isImmediatePropagationStopped()){break}else{h[e].call(c,g)}}}}}if(d.handlers[b].length==1){if(document.addEventListener){c.addEventListener(b,d.dispatcher,false)}else{if(document.attachEvent){c.attachEvent("on"+b,d.dispatcher)}}}};vjs.off=function(e,d,c){if(!vjs.hasData(e)){return}var f=vjs.getData(e);if(!f.handlers){return}var g=function(j){f.handlers[j]=[];vjs.cleanUpEvents(e,j)};if(!d){for(var b in f.handlers){g(b)}return}var a=f.handlers[d];if(!a){return}if(!c){g(d);return}if(c.guid){for(var h=0;h<a.length;h++){if(a[h].guid===c.guid){a.splice(h--,1)}}}vjs.cleanUpEvents(e,d)};vjs.cleanUpEvents=function(b,a){var c=vjs.getData(b);if(c.handlers[a].length===0){delete c.handlers[a];if(document.removeEventListener){b.removeEventListener(a,c.dispatcher,false)}else{if(document.detachEvent){b.detachEvent("on"+a,c.dispatcher)}}}if(vjs.isEmpty(c.handlers)){delete c.handlers;delete c.dispatcher;delete c.disabled}if(vjs.isEmpty(c)){vjs.removeData(b)}};vjs.fixEvent=function(e){function g(){return true}function d(){return false}if(!e||!e.isPropagationStopped){var b=e||window.event;e={};for(var c in b){if(c!=="layerX"&&c!=="layerY"){e[c]=b[c]}}if(!e.target){e.target=e.srcElement||document}e.relatedTarget=e.fromElement===e.target?e.toElement:e.fromElement;e.preventDefault=function(){if(b.preventDefault){b.preventDefault()}e.returnValue=false;e.isDefaultPrevented=g};e.isDefaultPrevented=d;e.stopPropagation=function(){if(b.stopPropagation){b.stopPropagation()}e.cancelBubble=true;e.isPropagationStopped=g};e.isPropagationStopped=d;e.stopImmediatePropagation=function(){if(b.stopImmediatePropagation){b.stopImmediatePropagation()}e.isImmediatePropagationStopped=g;e.stopPropagation()};e.isImmediatePropagationStopped=d;if(e.clientX!=null){var f=document.documentElement,a=document.body;e.pageX=e.clientX+(f&&f.scrollLeft||a&&a.scrollLeft||0)-(f&&f.clientLeft||a&&a.clientLeft||0);e.pageY=e.clientY+(f&&f.scrollTop||a&&a.scrollTop||0)-(f&&f.clientTop||a&&a.clientTop||0)}e.which=e.charCode||e.keyCode;if(e.button!=null){e.button=(e.button&1?0:(e.button&4?1:(e.button&2?2:0)))}}return e};vjs.trigger=function(d,c){var a=(vjs.hasData(d))?vjs.getData(d):{};var b=d.parentNode||d.ownerDocument;if(typeof c==="string"){c={type:c,target:d}}c=vjs.fixEvent(c);if(a.dispatcher){a.dispatcher.call(d,c)}if(b&&!c.isPropagationStopped()){vjs.trigger(b,c)}else{if(!b&&!c.isDefaultPrevented()){var e=vjs.getData(c.target);if(c.target[c.type]){e.disabled=true;if(typeof c.target[c.type]==="function"){c.target[c.type]()}e.disabled=false}}}return !c.isDefaultPrevented()};vjs.one=function(c,b,a){vjs.on(c,b,function(){vjs.off(c,b,arguments.callee);a.apply(this,arguments)})};var hasOwnProp=Object.prototype.hasOwnProperty;vjs.createEl=function(b,a){var c=document.createElement(b||"div");for(var d in a){if(hasOwnProp.call(a,d)){if(d.indexOf("aria-")!==-1||d=="role"){c.setAttribute(d,a[d])}else{c[d]=a[d]}}}return c};vjs.capitalize=function(a){return a.charAt(0).toUpperCase()+a.slice(1)};vjs.obj={};vjs.obj.create=Object.create||function(b){function a(){}a.prototype=b;return new a()};vjs.obj.each=function(d,c,b){for(var a in d){if(hasOwnProp.call(d,a)){c.call(b||this,a,d[a])}}};vjs.obj.merge=function(c,b){if(!b){return c}for(var a in b){if(hasOwnProp.call(b,a)){c[a]=b[a]}}return c};vjs.obj.deepMerge=function(e,d){var a,c,b,f;f="[object Object]";e=vjs.obj.copy(e);for(a in d){if(hasOwnProp.call(d,a)){c=e[a];b=d[a];if(vjs.obj.isPlain(c)&&vjs.obj.isPlain(b)){e[a]=vjs.obj.deepMerge(c,b)}else{e[a]=d[a]}}}return e};vjs.obj.copy=function(a){return vjs.obj.merge({},a)};vjs.obj.isPlain=function(a){return !!a&&typeof a==="object"&&a.toString()==="[object Object]"&&a.constructor===Object};vjs.bind=function(c,d,b){if(!d.guid){d.guid=vjs.guid++}var a=function(){return d.apply(c,arguments)};a.guid=(b)?b+"_"+d.guid:d.guid;return a};vjs.cache={};vjs.guid=1;vjs.expando="vdata"+(new Date()).getTime();vjs.getData=function(a){var b=a[vjs.expando];if(!b){b=a[vjs.expando]=vjs.guid++;vjs.cache[b]={}}return vjs.cache[b]};vjs.hasData=function(a){var b=a[vjs.expando];return !(!b||vjs.isEmpty(vjs.cache[b]))};vjs.removeData=function(a){var c=a[vjs.expando];if(!c){return}delete vjs.cache[c];try{delete a[vjs.expando]}catch(b){if(a.removeAttribute){a.removeAttribute(vjs.expando)}else{a[vjs.expando]=null}}};vjs.isEmpty=function(a){for(var b in a){if(a[b]!==null){return false}}return true};vjs.addClass=function(a,b){if((" "+a.className+" ").indexOf(" "+b+" ")==-1){a.className=a.className===""?b:a.className+" "+b}};vjs.removeClass=function(c,a){if(c.className.indexOf(a)==-1){return}var d=c.className.split(" ");for(var b=d.length-1;b>=0;b--){if(d[b]===a){d.splice(b,1)}}c.className=d.join(" ")};vjs.TEST_VID=vjs.createEl("video");vjs.USER_AGENT=navigator.userAgent;vjs.IS_IPHONE=(/iPhone/i).test(vjs.USER_AGENT);vjs.IS_IPAD=(/iPad/i).test(vjs.USER_AGENT);vjs.IS_IPOD=(/iPod/i).test(vjs.USER_AGENT);vjs.IS_IOS=vjs.IS_IPHONE||vjs.IS_IPAD||vjs.IS_IPOD;vjs.IOS_VERSION=(function(){var a=vjs.USER_AGENT.match(/OS (\d+)_/i);if(a&&a[1]){return a[1]}})();vjs.IS_ANDROID=(/Android/i).test(vjs.USER_AGENT);vjs.ANDROID_VERSION=(function(){var b=vjs.USER_AGENT.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i),a,c;if(!b){return null}a=b[1]&&parseFloat(b[1]);c=b[2]&&parseFloat(b[2]);if(a&&c){return parseFloat(b[1]+"."+b[2])}else{if(a){return a}else{return null}}})();vjs.IS_OLD_ANDROID=vjs.IS_ANDROID&&(/webkit/i).test(vjs.USER_AGENT)&&vjs.ANDROID_VERSION<2.3;vjs.IS_FIREFOX=(/Firefox/i).test(vjs.USER_AGENT);vjs.IS_CHROME=(/Chrome/i).test(vjs.USER_AGENT);vjs.getAttributeValues=function(a){var g={};var b=",autoplay,controls,loop,muted,default,";if(a&&a.attributes&&a.attributes.length>0){var d=a.attributes;var f,c;for(var e=d.length-1;e>=0;e--){f=d[e].name;c=d[e].value;if(typeof a[f]==="boolean"||b.indexOf(","+f+",")!==-1){c=(c!==null)?true:false}g[f]=c}}return g};vjs.getComputedDimension=function(a,b){var c="";if(document.defaultView&&document.defaultView.getComputedStyle){c=document.defaultView.getComputedStyle(a,"").getPropertyValue(b)}else{if(a.currentStyle){c=a["client"+b.substr(0,1).toUpperCase()+b.substr(1)]+"px"}}return c};vjs.insertFirst=function(b,a){if(a.firstChild){a.insertBefore(b,a.firstChild)}else{a.appendChild(b)}};vjs.support={};vjs.el=function(a){if(a.indexOf("#")===0){a=a.slice(1)}return document.getElementById(a)};vjs.formatTime=function(g,b){b=b||g;var e=Math.floor(g%60),a=Math.floor(g/60%60),d=Math.floor(g/3600),f=Math.floor(b/60%60),c=Math.floor(b/3600);d=(d>0||c>0)?d+":":"";a=(((d||f>=10)&&a<10)?"0"+a:a)+":";e=(e<10)?"0"+e:e;return d+a+e};vjs.blockTextSelection=function(){document.body.focus();document.onselectstart=function(){return false}};vjs.unblockTextSelection=function(){document.onselectstart=function(){return true}};vjs.trim=function(a){return a.toString().replace(/^\s+/,"").replace(/\s+$/,"")};vjs.round=function(a,b){if(!b){b=0}return Math.round(a*Math.pow(10,b))/Math.pow(10,b)};vjs.createTimeRange=function(b,a){return{length:1,start:function(){return b},end:function(){return a}}};vjs.get=function(a,g,d){var b=(a.indexOf("file:")===0||(window.location.href.indexOf("file:")===0&&a.indexOf("http")===-1));if(typeof XMLHttpRequest==="undefined"){window.XMLHttpRequest=function(){try{return new window.ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(k){}try{return new window.ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(j){}try{return new window.ActiveXObject("Msxml2.XMLHTTP")}catch(h){}throw new Error("This browser does not support XMLHttpRequest.")}}var c=new XMLHttpRequest();try{c.open("GET",a)}catch(f){d(f)}c.onreadystatechange=function(){if(c.readyState===4){if(c.status===200||b&&c.status===0){g(c.responseText)}else{if(d){d()}}}};try{c.send()}catch(f){if(d){d(f)}}};vjs.setLocalStorage=function(b,c){try{var a=window.localStorage||false;if(!a){return}a[b]=c}catch(d){if(d.code==22||d.code==1014){vjs.log("LocalStorage Full (VideoJS)",d)}else{if(d.code==18){vjs.log("LocalStorage not allowed (VideoJS)",d)}else{vjs.log("LocalStorage Error (VideoJS)",d)}}}};vjs.getAbsoluteURL=function(a){if(!a.match(/^https?:\/\//)){a=vjs.createEl("div",{innerHTML:'<a href="'+a+'">x</a>'}).firstChild.href}return a};vjs.log=function(){vjs.log.history=vjs.log.history||[];vjs.log.history.push(arguments);if(window.console){window.console.log(Array.prototype.slice.call(arguments))}};vjs.findPosition=function(c){var g,b,h,j,e,d,f,a,k;if(c.getBoundingClientRect&&c.parentNode){g=c.getBoundingClientRect()}if(!g){return{left:0,top:0}}b=document.documentElement;h=document.body;j=b.clientLeft||h.clientLeft||0;e=window.pageXOffset||h.scrollLeft;d=g.left+e-j;f=b.clientTop||h.clientTop||0;a=window.pageYOffset||h.scrollTop;k=g.top+a-f;return{left:d,top:k}};vjs.Component=vjs.CoreObject.extend({init:function(b,a,c){this.player_=b;this.options_=vjs.obj.copy(this.options_);a=this.options(a);this.id_=a.id||((a.el&&a.el["id"])?a.el["id"]:b.id()+"_component_"+vjs.guid++);this.name_=a.name||null;this.el_=a.el||this.createEl();this.children_=[];this.childIndex_={};this.childNameIndex_={};this.initChildren();this.ready(c)}});vjs.Component.prototype.dispose=function(){if(this.children_){for(var a=this.children_.length-1;a>=0;a--){if(this.children_[a].dispose){this.children_[a].dispose()}}}this.children_=null;this.childIndex_=null;this.childNameIndex_=null;this.off();if(this.el_.parentNode){this.el_.parentNode.removeChild(this.el_)}vjs.removeData(this.el_);this.el_=null};vjs.Component.prototype.player_;vjs.Component.prototype.player=function(){return this.player_};vjs.Component.prototype.options_;vjs.Component.prototype.options=function(a){if(a===undefined){return this.options_}return this.options_=vjs.obj.deepMerge(this.options_,a)};vjs.Component.prototype.el_;vjs.Component.prototype.createEl=function(b,a){return vjs.createEl(b,a)};vjs.Component.prototype.el=function(){return this.el_};vjs.Component.prototype.contentEl_;vjs.Component.prototype.contentEl=function(){return this.contentEl_||this.el_};vjs.Component.prototype.id_;vjs.Component.prototype.id=function(){return this.id_};vjs.Component.prototype.name_;vjs.Component.prototype.name=function(){return this.name_};vjs.Component.prototype.children_;vjs.Component.prototype.children=function(){return this.children_};vjs.Component.prototype.childIndex_;vjs.Component.prototype.getChildById=function(a){return this.childIndex_[a]};vjs.Component.prototype.childNameIndex_;vjs.Component.prototype.getChild=function(a){return this.childNameIndex_[a]};vjs.Component.prototype.addChild=function(f,d){var c,e,a,b;if(typeof f==="string"){a=f;d=d||{};e=d.componentClass||vjs.capitalize(a);d.name=a;c=new window.videojs[e](this.player_||this,d)}else{c=f}this.children_.push(c);if(typeof c.id==="function"){this.childIndex_[c.id()]=c}a=a||(c.name&&c.name());if(a){this.childNameIndex_[a]=c}if(typeof c.el==="function"&&c.el()){this.contentEl().appendChild(c.el())}return c};vjs.Component.prototype.removeChild=function(b){if(typeof b==="string"){b=this.getChild(b)}if(!b||!this.children_){return}var a=false;for(var c=this.children_.length-1;c>=0;c--){if(this.children_[c]===b){a=true;this.children_.splice(c,1);break}}if(!a){return}this.childIndex_[b.id]=null;this.childNameIndex_[b.name]=null;var d=b.el();if(d&&d.parentNode===this.contentEl()){this.contentEl().removeChild(b.el())}};vjs.Component.prototype.initChildren=function(){var b=this.options_;if(b&&b.children){var a=this;vjs.obj.each(b.children,function(d,e){if(e===false){return}var c=function(){a[d]=a.addChild(d,e)};if(e.loadEvent){}else{c()}})}};vjs.Component.prototype.buildCSSClass=function(){return""};vjs.Component.prototype.on=function(b,a){vjs.on(this.el_,b,vjs.bind(this,a));return this};vjs.Component.prototype.off=function(b,a){vjs.off(this.el_,b,a);return this};vjs.Component.prototype.one=function(b,a){vjs.one(this.el_,b,vjs.bind(this,a));return this};vjs.Component.prototype.trigger=function(a,b){vjs.trigger(this.el_,a,b);return this};vjs.Component.prototype.isReady_;vjs.Component.prototype.isReadyOnInitFinish_=true;vjs.Component.prototype.readyQueue_;vjs.Component.prototype.ready=function(a){if(a){if(this.isReady_){a.call(this)}else{if(this.readyQueue_===undefined){this.readyQueue_=[]}this.readyQueue_.push(a)}}return this};vjs.Component.prototype.triggerReady=function(){this.isReady_=true;var c=this.readyQueue_;if(c&&c.length>0){for(var b=0,a=c.length;b<a;b++){c[b].call(this)}this.readyQueue_=[];this.trigger("ready")}};vjs.Component.prototype.addClass=function(a){vjs.addClass(this.el_,a);return this};vjs.Component.prototype.removeClass=function(a){vjs.removeClass(this.el_,a);return this};vjs.Component.prototype.show=function(){this.el_.style.display="block";return this};vjs.Component.prototype.hide=function(){this.el_.style.display="none";return this};vjs.Component.prototype.fadeIn=function(){this.removeClass("vjs-fade-out");this.addClass("vjs-fade-in");return this};vjs.Component.prototype.fadeOut=function(){this.removeClass("vjs-fade-in");this.addClass("vjs-fade-out");return this};vjs.Component.prototype.lockShowing=function(){this.addClass("vjs-lock-showing");return this};vjs.Component.prototype.unlockShowing=function(){this.removeClass("vjs-lock-showing");return this};vjs.Component.prototype.disable=function(){this.hide();this.show=function(){};this.fadeIn=function(){}};vjs.Component.prototype.width=function(a,b){return this.dimension("width",a,b)};vjs.Component.prototype.height=function(a,b){return this.dimension("height",a,b)};vjs.Component.prototype.dimensions=function(b,a){return this.width(b,true).height(a)};vjs.Component.prototype.dimension=function(e,a,d){if(a!==undefined){if((""+a).indexOf("%")!==-1||(""+a).indexOf("px")!==-1){this.el_.style[e]=a}else{if(a==="auto"){this.el_.style[e]=""}else{this.el_.style[e]=a+"px"}}if(!d){this.trigger("resize")}return this}if(!this.el_){return 0}var c=this.el_.style[e];var b=c.indexOf("px");if(b!==-1){return parseInt(c.slice(0,b),10)}else{return parseInt(this.el_["offset"+vjs.capitalize(e)],10)}};vjs.Button=vjs.Component.extend({init:function(c,b){vjs.Component.call(this,c,b);var d=false;this.on("touchstart",function(){d=true});this.on("touchmove",function(){d=false});var a=this;this.on("touchend",function(e){if(d){a.onClick(e)}e.preventDefault();e.stopPropagation()});this.on("click",this.onClick);this.on("focus",this.onFocus);this.on("blur",this.onBlur)}});vjs.Button.prototype.createEl=function(b,a){a=vjs.obj.merge({className:this.buildCSSClass(),innerHTML:'<div class="vjs-control-content"><span class="vjs-control-text">'+(this.buttonText||"Need Text")+"</span></div>",role:"button","aria-live":"polite",tabIndex:0},a);return vjs.Component.prototype.createEl.call(this,b,a)};vjs.Button.prototype.buildCSSClass=function(){return"vjs-control "+vjs.Component.prototype.buildCSSClass.call(this)};vjs.Button.prototype.onClick=function(){};vjs.Button.prototype.onFocus=function(){vjs.on(document,"keyup",vjs.bind(this,this.onKeyPress))};vjs.Button.prototype.onKeyPress=function(a){if(a.which==32||a.which==13){a.preventDefault();this.onClick()}};vjs.Button.prototype.onBlur=function(){vjs.off(document,"keyup",vjs.bind(this,this.onKeyPress))};vjs.Slider=vjs.Component.extend({init:function(b,a){vjs.Component.call(this,b,a);this.bar=this.getChild(this.options_.barName);this.handle=this.getChild(this.options_.handleName);b.on(this.playerEvent,vjs.bind(this,this.update));this.on("mousedown",this.onMouseDown);this.on("touchstart",this.onMouseDown);this.on("focus",this.onFocus);this.on("blur",this.onBlur);this.on("click",this.onClick);this.player_.on("controlsvisible",vjs.bind(this,this.update));b.ready(vjs.bind(this,this.update));this.boundEvents={}}});vjs.Slider.prototype.createEl=function(b,a){a=a||{};a.className=a.className+" vjs-slider";a=vjs.obj.merge({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},a);return vjs.Component.prototype.createEl.call(this,b,a)};vjs.Slider.prototype.onMouseDown=function(a){a.preventDefault();vjs.blockTextSelection();this.boundEvents.move=vjs.bind(this,this.onMouseMove);this.boundEvents.end=vjs.bind(this,this.onMouseUp);vjs.on(document,"mousemove",this.boundEvents.move);vjs.on(document,"mouseup",this.boundEvents.end);vjs.on(document,"touchmove",this.boundEvents.move);vjs.on(document,"touchend",this.boundEvents.end);this.onMouseMove(a)};vjs.Slider.prototype.onMouseUp=function(){vjs.unblockTextSelection();vjs.off(document,"mousemove",this.boundEvents.move,false);vjs.off(document,"mouseup",this.boundEvents.end,false);vjs.off(document,"touchmove",this.boundEvents.move,false);vjs.off(document,"touchend",this.boundEvents.end,false);this.update()};vjs.Slider.prototype.update=function(){if(!this.el_){return}var b,a=this.getPercent(),f=this.handle,g=this.bar;if(isNaN(a)){a=0}b=a;if(f){var d=this.el_,e=d.offsetWidth,j=f.el().offsetWidth,k=(j)?j/e:0,c=1-k,h=a*c;b=h+(k/2);f.el().style.left=vjs.round(h*100,2)+"%"}g.el().style.width=vjs.round(b*100,2)+"%"};vjs.Slider.prototype.calculateDistance=function(b){var d,g,m,l,a,j,h,f,e;d=this.el_;g=vjs.findPosition(d);a=j=d.offsetWidth;h=this.handle;if(this.options_.vertical){l=g.top;if(b.changedTouches){e=b.changedTouches[0].pageY}else{e=b.pageY}if(h){var k=h.el().offsetHeight;l=l+(k/2);j=j-k}return Math.max(0,Math.min(1,((l-e)+j)/j))}else{m=g.left;if(b.changedTouches){f=b.changedTouches[0].pageX}else{f=b.pageX}if(h){var c=h.el().offsetWidth;m=m+(c/2);a=a-c}return Math.max(0,Math.min(1,(f-m)/a))}};vjs.Slider.prototype.onFocus=function(){vjs.on(document,"keyup",vjs.bind(this,this.onKeyPress))};vjs.Slider.prototype.onKeyPress=function(a){if(a.which==37){a.preventDefault();this.stepBack()}else{if(a.which==39){a.preventDefault();this.stepForward()}}};vjs.Slider.prototype.onBlur=function(){vjs.off(document,"keyup",vjs.bind(this,this.onKeyPress))};vjs.Slider.prototype.onClick=function(a){a.stopImmediatePropagation();a.preventDefault()};vjs.SliderHandle=vjs.Component.extend();vjs.SliderHandle.prototype.defaultValue=0;vjs.SliderHandle.prototype.createEl=function(b,a){a=a||{};a.className=a.className+" vjs-slider-handle";a=vjs.obj.merge({innerHTML:'<span class="vjs-control-text">'+this.defaultValue+"</span>"},a);return vjs.Component.prototype.createEl.call(this,"div",a)};vjs.Menu=vjs.Component.extend();vjs.Menu.prototype.addItem=function(a){this.addChild(a);a.on("click",vjs.bind(this,function(){this.unlockShowing()}))};vjs.Menu.prototype.createEl=function(){var b=this.options().contentElType||"ul";this.contentEl_=vjs.createEl(b,{className:"vjs-menu-content"});var a=vjs.Component.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});a.appendChild(this.contentEl_);vjs.on(a,"click",function(c){c.preventDefault();c.stopImmediatePropagation()});return a};vjs.MenuItem=vjs.Button.extend({init:function(b,a){vjs.Button.call(this,b,a);this.selected(a.selected)}});vjs.MenuItem.prototype.createEl=function(b,a){return vjs.Button.prototype.createEl.call(this,"li",vjs.obj.merge({className:"vjs-menu-item",innerHTML:this.options_.label},a))};vjs.MenuItem.prototype.onClick=function(){this.selected(true)};vjs.MenuItem.prototype.selected=function(a){if(a){this.addClass("vjs-selected");this.el_.setAttribute("aria-selected",true)}else{this.removeClass("vjs-selected");this.el_.setAttribute("aria-selected",false)}};vjs.MenuButton=vjs.Button.extend({init:function(b,a){vjs.Button.call(this,b,a);this.menu=this.createMenu();this.addChild(this.menu);if(this.items&&this.items.length===0){this.hide()}this.on("keyup",this.onKeyPress);this.el_.setAttribute("aria-haspopup",true);this.el_.setAttribute("role","button")}});vjs.MenuButton.prototype.buttonPressed_=false;vjs.MenuButton.prototype.createMenu=function(){var b=new vjs.Menu(this.player_);if(this.options().title){b.el().appendChild(vjs.createEl("li",{className:"vjs-menu-title",innerHTML:vjs.capitalize(this.kind_),tabindex:-1}))}this.items=this.createItems();if(this.items){for(var a=0;a<this.items.length;a++){b.addItem(this.items[a])}}return b};vjs.MenuButton.prototype.createItems=function(){};vjs.MenuButton.prototype.buildCSSClass=function(){return this.className+" vjs-menu-button "+vjs.Button.prototype.buildCSSClass.call(this)};vjs.MenuButton.prototype.onFocus=function(){};vjs.MenuButton.prototype.onBlur=function(){};vjs.MenuButton.prototype.onClick=function(){this.one("mouseout",vjs.bind(this,function(){this.menu.unlockShowing();this.el_.blur()}));if(this.buttonPressed_){this.unpressButton()}else{this.pressButton()}};vjs.MenuButton.prototype.onKeyPress=function(a){a.preventDefault();if(a.which==32||a.which==13){if(this.buttonPressed_){this.unpressButton()}else{this.pressButton()}}else{if(a.which==27){if(this.buttonPressed_){this.unpressButton()}}}};vjs.MenuButton.prototype.pressButton=function(){this.buttonPressed_=true;this.menu.lockShowing();this.el_.setAttribute("aria-pressed",true);if(this.items&&this.items.length>0){this.items[0].el().focus()}};vjs.MenuButton.prototype.unpressButton=function(){this.buttonPressed_=false;this.menu.unlockShowing();this.el_.setAttribute("aria-pressed",false)};vjs.Player=vjs.Component.extend({init:function(a,b,c){this.tag=a;b=vjs.obj.merge(this.getTagSettings(a),b);this.cache_={};this.poster_=b.poster;this.controls_=b.controls;if(b.customControlsOnMobile!==true&&(vjs.IS_IOS||vjs.IS_ANDROID)){a.controls=b.controls;this.controls_=false}else{a.controls=false}vjs.Component.call(this,this,b,c);this.one("play",function(g){var d={type:"firstplay",target:this.el_};var f=vjs.trigger(this.el_,d);if(!f){g.preventDefault();g.stopPropagation();g.stopImmediatePropagation()}});this.on("ended",this.onEnded);this.on("play",this.onPlay);this.on("firstplay",this.onFirstPlay);this.on("pause",this.onPause);this.on("progress",this.onProgress);this.on("durationchange",this.onDurationChange);this.on("error",this.onError);this.on("fullscreenchange",this.onFullscreenChange);vjs.players[this.id_]=this;if(b.plugins){vjs.obj.each(b.plugins,function(d,e){this[d](e)},this)}}});vjs.Player.prototype.options_=vjs.options;vjs.Player.prototype.dispose=function(){vjs.players[this.id_]=null;if(this.tag&&this.tag.player){this.tag.player=null}if(this.el_&&this.el_.player){this.el_.player=null}this.stopTrackingProgress();this.stopTrackingCurrentTime();if(this.tech){this.tech.dispose()}vjs.Component.prototype.dispose.call(this)};vjs.Player.prototype.getTagSettings=function(a){var d={sources:[],tracks:[]};vjs.obj.merge(d,vjs.getAttributeValues(a));if(a.hasChildNodes()){var f,g,b,e,c;f=a.childNodes;for(e=0,c=f.length;e<c;e++){g=f[e];b=g.nodeName.toLowerCase();if(b==="source"){d.sources.push(vjs.getAttributeValues(g))}else{if(b==="track"){d.tracks.push(vjs.getAttributeValues(g))}}}}return d};vjs.Player.prototype.createEl=function(){var e=this.el_=vjs.Component.prototype.createEl.call(this,"div");var a=this.tag;a.removeAttribute("width");a.removeAttribute("height");if(a.hasChildNodes()){var b,g,d,f,h,c;b=a.childNodes;g=b.length;c=[];while(g--){f=b[g];h=f.nodeName.toLowerCase();if(h==="source"||h==="track"){c.push(f)}}for(d=0;d<c.length;d++){a.removeChild(c[d])}}a.id=a.id||"vjs_video_"+vjs.guid++;e.id=a.id;e.className=a.className;a.id+="_html5_api";a.className="vjs-tech";a.player=e.player=this;this.addClass("vjs-paused");this.width(this.options_.width,true);this.height(this.options_.height,true);if(a.parentNode){a.parentNode.insertBefore(e,a)}vjs.insertFirst(a,e);return e};vjs.Player.prototype.loadTech=function(d,b){if(this.tech){this.unloadTech()}else{if(d!=="Html5"&&this.tag){this.el_.removeChild(this.tag);this.tag.player=null;this.tag=null}}this.techName=d;this.isReady_=false;var a=function(){this.player_.triggerReady();if(!this.features.progressEvents){this.player_.manualProgressOn()}if(!this.features.timeupdateEvents){this.player_.manualTimeUpdatesOn()}};var c=vjs.obj.merge({source:b,parentEl:this.el_},this.options_[d.toLowerCase()]);if(b){if(b.src==this.cache_.src&&this.cache_.currentTime>0){c.startTime=this.cache_.currentTime}this.cache_.src=b.src}this.tech=new window.videojs[d](this,c);this.tech.ready(a)};vjs.Player.prototype.unloadTech=function(){this.isReady_=false;this.tech.dispose();if(this.manualProgress){this.manualProgressOff()}if(this.manualTimeUpdates){this.manualTimeUpdatesOff()}this.tech=false};vjs.Player.prototype.manualProgressOn=function(){this.manualProgress=true;this.trackProgress();this.tech.one("progress",function(){this.features.progressEvents=true;this.player_.manualProgressOff()})};vjs.Player.prototype.manualProgressOff=function(){this.manualProgress=false;this.stopTrackingProgress()};vjs.Player.prototype.trackProgress=function(){this.progressInterval=setInterval(vjs.bind(this,function(){if(this.cache_.bufferEnd<this.buffered().end(0)){this.trigger("progress")}else{if(this.bufferedPercent()==1){this.stopTrackingProgress();this.trigger("progress")}}}),500)};vjs.Player.prototype.stopTrackingProgress=function(){clearInterval(this.progressInterval)};vjs.Player.prototype.manualTimeUpdatesOn=function(){this.manualTimeUpdates=true;this.on("play",this.trackCurrentTime);this.on("pause",this.stopTrackingCurrentTime);this.tech.one("timeupdate",function(){this.features.timeupdateEvents=true;this.player_.manualTimeUpdatesOff()})};vjs.Player.prototype.manualTimeUpdatesOff=function(){this.manualTimeUpdates=false;this.stopTrackingCurrentTime();this.off("play",this.trackCurrentTime);this.off("pause",this.stopTrackingCurrentTime)};vjs.Player.prototype.trackCurrentTime=function(){if(this.currentTimeInterval){this.stopTrackingCurrentTime()}this.currentTimeInterval=setInterval(vjs.bind(this,function(){this.trigger("timeupdate")}),250)};vjs.Player.prototype.stopTrackingCurrentTime=function(){clearInterval(this.currentTimeInterval)};vjs.Player.prototype.onEnded=function(){if(this.options_.loop){this.currentTime(0);this.play()}};vjs.Player.prototype.onPlay=function(){vjs.removeClass(this.el_,"vjs-paused");vjs.addClass(this.el_,"vjs-playing")};vjs.Player.prototype.onFirstPlay=function(){if(this.options_.starttime){this.currentTime(this.options_.starttime)}};vjs.Player.prototype.onPause=function(){vjs.removeClass(this.el_,"vjs-playing");vjs.addClass(this.el_,"vjs-paused")};vjs.Player.prototype.onProgress=function(){if(this.bufferedPercent()==1){this.trigger("loadedalldata")}};vjs.Player.prototype.onDurationChange=function(){this.duration(this.techGet("duration"))};vjs.Player.prototype.onError=function(a){vjs.log("Video Error",a)};vjs.Player.prototype.onFullscreenChange=function(){if(this.isFullScreen){this.addClass("vjs-fullscreen")}else{this.removeClass("vjs-fullscreen")}};vjs.Player.prototype.cache_;vjs.Player.prototype.getCache=function(){return this.cache_};vjs.Player.prototype.techCall=function(c,a){if(this.tech&&!this.tech.isReady_){this.tech.ready(function(){this[c](a)})}else{try{this.tech[c](a)}catch(b){vjs.log(b);throw b}}};vjs.Player.prototype.techGet=function(b){if(this.tech.isReady_){try{return this.tech[b]()}catch(a){if(this.tech[b]===undefined){vjs.log("Video.js: "+b+" method not defined for "+this.techName+" playback technology.",a)}else{if(a.name=="TypeError"){vjs.log("Video.js: "+b+" unavailable on "+this.techName+" playback technology element.",a);this.tech.isReady_=false}else{vjs.log(a)}}}}return};vjs.Player.prototype.play=function(){this.techCall("play");return this};vjs.Player.prototype.pause=function(){this.techCall("pause");return this};vjs.Player.prototype.paused=function(){return(this.techGet("paused")===false)?false:true};vjs.Player.prototype.currentTime=function(a){if(a!==undefined){this.cache_.lastSetCurrentTime=a;this.techCall("setCurrentTime",a);if(this.manualTimeUpdates){this.trigger("timeupdate")}return this}return this.cache_.currentTime=(this.techGet("currentTime")||0)};vjs.Player.prototype.duration=function(a){if(a!==undefined){this.cache_.duration=parseFloat(a);return this}return this.cache_.duration};vjs.Player.prototype.remainingTime=function(){return this.duration()-this.currentTime()};vjs.Player.prototype.buffered=function(){var b=this.techGet("buffered"),c=0,a=this.cache_.bufferEnd=this.cache_.bufferEnd||0;if(b&&b.length>0&&b.end(0)!==a){a=b.end(0);this.cache_.bufferEnd=a}return vjs.createTimeRange(c,a)};vjs.Player.prototype.bufferedPercent=function(){return(this.duration())?this.buffered().end(0)/this.duration():0};vjs.Player.prototype.volume=function(a){var b;if(a!==undefined){b=Math.max(0,Math.min(1,parseFloat(a)));this.cache_.volume=b;this.techCall("setVolume",b);vjs.setLocalStorage("volume",b);return this}b=parseFloat(this.techGet("volume"));return(isNaN(b))?1:b};vjs.Player.prototype.muted=function(a){if(a!==undefined){this.techCall("setMuted",a);return this}return this.techGet("muted")||false};vjs.Player.prototype.supportsFullScreen=function(){return this.techGet("supportsFullScreen")||false};vjs.Player.prototype.requestFullScreen=function(){var a=vjs.support.requestFullScreen;this.isFullScreen=true;if(a){vjs.on(document,a.eventName,vjs.bind(this,function(b){this.isFullScreen=document[a.isFullScreen];if(this.isFullScreen===false){vjs.off(document,a.eventName,arguments.callee)}this.trigger("fullscreenchange")}));this.el_[a.requestFn]()}else{if(this.tech.supportsFullScreen()){this.techCall("enterFullScreen")}else{this.enterFullWindow();this.trigger("fullscreenchange")}}return this};vjs.Player.prototype.cancelFullScreen=function(){var a=vjs.support.requestFullScreen;this.isFullScreen=false;if(a){document[a.cancelFn]()}else{if(this.tech.supportsFullScreen()){this.techCall("exitFullScreen")}else{this.exitFullWindow();this.trigger("fullscreenchange")}}return this};vjs.Player.prototype.enterFullWindow=function(){this.isFullWindow=true;this.docOrigOverflow=document.documentElement.style.overflow;vjs.on(document,"keydown",vjs.bind(this,this.fullWindowOnEscKey));document.documentElement.style.overflow="hidden";vjs.addClass(document.body,"vjs-full-window");this.trigger("enterFullWindow")};vjs.Player.prototype.fullWindowOnEscKey=function(a){if(a.keyCode===27){if(this.isFullScreen===true){this.cancelFullScreen()}else{this.exitFullWindow()}}};vjs.Player.prototype.exitFullWindow=function(){this.isFullWindow=false;vjs.off(document,"keydown",this.fullWindowOnEscKey);document.documentElement.style.overflow=this.docOrigOverflow;vjs.removeClass(document.body,"vjs-full-window");this.trigger("exitFullWindow")};vjs.Player.prototype.selectSource=function(g){for(var h=0,f=this.options_.techOrder;h<f.length;h++){var l=vjs.capitalize(f[h]),e=window.videojs[l];if(e.isSupported()){for(var d=0,c=g;d<c.length;d++){var k=c[d];if(e.canPlaySource(k)){return{source:k,tech:l}}}}}return false};vjs.Player.prototype.src=function(b){if(b instanceof Array){var a=this.selectSource(b),c;if(a){b=a.source;c=a.tech;if(c==this.techName){this.src(b)}else{this.loadTech(c,b)}}else{this.el_.appendChild(vjs.createEl("p",{innerHTML:'Sorry, no compatible source and playback technology were found for this video. Try using another browser like <a href="http://bit.ly/ccMUEC">Chrome</a> or download the latest <a href="http://adobe.ly/mwfN1">Adobe Flash Player</a>.'}))}}else{if(b instanceof Object){if(window.videojs[this.techName]["canPlaySource"](b)){this.src(b.src)}else{this.src([b])}}else{this.cache_.src=b;if(!this.isReady_){this.ready(function(){this.src(b)})}else{this.techCall("src",b);if(this.options_.preload=="auto"){this.load()}if(this.options_.autoplay){this.play()}}}}return this};vjs.Player.prototype.load=function(){this.techCall("load");return this};vjs.Player.prototype.currentSrc=function(){return this.techGet("currentSrc")||this.cache_.src||""};vjs.Player.prototype.preload=function(a){if(a!==undefined){this.techCall("setPreload",a);this.options_.preload=a;return this}return this.techGet("preload")};vjs.Player.prototype.autoplay=function(a){if(a!==undefined){this.techCall("setAutoplay",a);this.options_.autoplay=a;return this}return this.techGet("autoplay",a)};vjs.Player.prototype.loop=function(a){if(a!==undefined){this.techCall("setLoop",a);this.options_.loop=a;return this}return this.techGet("loop")};vjs.Player.prototype.poster_;vjs.Player.prototype.poster=function(a){if(a!==undefined){this.poster_=a}return this.poster_};vjs.Player.prototype.controls_;vjs.Player.prototype.controls=function(a){if(a!==undefined){if(this.controls_!==a){this.controls_=!!a;this.trigger("controlschange")}}return this.controls_};vjs.Player.prototype.error=function(){return this.techGet("error")};vjs.Player.prototype.ended=function(){return this.techGet("ended")};(function(){var a,b,c;c=document.createElement("div");b={};if(c.cancelFullscreen!==undefined){b.requestFn="requestFullscreen";b.cancelFn="exitFullscreen";b.eventName="fullscreenchange";b.isFullScreen="fullScreen"}else{if(document.mozCancelFullScreen){a="moz";b.isFullScreen=a+"FullScreen"}else{a="webkit";b.isFullScreen=a+"IsFullScreen"}if(c[a+"RequestFullScreen"]){b.requestFn=a+"RequestFullScreen";b.cancelFn=a+"CancelFullScreen"}b.eventName=a+"fullscreenchange"}if(document[b.cancelFn]){vjs.support.requestFullScreen=b}})();vjs.ControlBar=vjs.Component.extend({init:function(b,a){vjs.Component.call(this,b,a);if(!b.controls()){this.disable()}b.one("play",vjs.bind(this,function(){var e,c=vjs.bind(this,this.fadeIn),d=vjs.bind(this,this.fadeOut);this.fadeIn();if(!("ontouchstart" in window)){this.player_.on("mouseover",c);this.player_.on("mouseout",d);this.player_.on("pause",vjs.bind(this,this.lockShowing));this.player_.on("play",vjs.bind(this,this.unlockShowing))}e=false;this.player_.on("touchstart",function(){e=true});this.player_.on("touchmove",function(){e=false});this.player_.on("touchend",vjs.bind(this,function(g){var f;if(e){f=this.el().className.search("fade-in");if(f!==-1){this.fadeOut()}else{this.fadeIn()}}e=false;if(!this.player_.paused()){g.preventDefault()}}))}))}});vjs.ControlBar.prototype.options_={loadEvent:"play",children:{playToggle:{},currentTimeDisplay:{},timeDivider:{},durationDisplay:{},remainingTimeDisplay:{},progressControl:{},fullscreenToggle:{},volumeControl:{},muteToggle:{}}};vjs.ControlBar.prototype.createEl=function(){return vjs.createEl("div",{className:"vjs-control-bar"})};vjs.ControlBar.prototype.fadeIn=function(){vjs.Component.prototype.fadeIn.call(this);this.player_.trigger("controlsvisible")};vjs.ControlBar.prototype.fadeOut=function(){vjs.Component.prototype.fadeOut.call(this);this.player_.trigger("controlshidden")};vjs.PlayToggle=vjs.Button.extend({init:function(b,a){vjs.Button.call(this,b,a);b.on("play",vjs.bind(this,this.onPlay));b.on("pause",vjs.bind(this,this.onPause))}});vjs.PlayToggle.prototype.buttonText="Play";vjs.PlayToggle.prototype.buildCSSClass=function(){return"vjs-play-control "+vjs.Button.prototype.buildCSSClass.call(this)};vjs.PlayToggle.prototype.onClick=function(){if(this.player_.paused()){this.player_.play()}else{this.player_.pause()}};vjs.PlayToggle.prototype.onPlay=function(){vjs.removeClass(this.el_,"vjs-paused");vjs.addClass(this.el_,"vjs-playing");this.el_.children[0].children[0].innerHTML="Pause"};vjs.PlayToggle.prototype.onPause=function(){vjs.removeClass(this.el_,"vjs-playing");vjs.addClass(this.el_,"vjs-paused");this.el_.children[0].children[0].innerHTML="Play"};vjs.CurrentTimeDisplay=vjs.Component.extend({init:function(b,a){vjs.Component.call(this,b,a);b.on("timeupdate",vjs.bind(this,this.updateContent))}});vjs.CurrentTimeDisplay.prototype.createEl=function(){var a=vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-current-time vjs-time-controls vjs-control"});this.content=vjs.createEl("div",{className:"vjs-current-time-display",innerHTML:'<span class="vjs-control-text">Current Time </span>0:00',"aria-live":"off"});a.appendChild(vjs.createEl("div").appendChild(this.content));return a};vjs.CurrentTimeDisplay.prototype.updateContent=function(){var a=(this.player_.scrubbing)?this.player_.getCache().currentTime:this.player_.currentTime();this.content.innerHTML='<span class="vjs-control-text">Current Time </span>'+vjs.formatTime(a,this.player_.duration())};vjs.DurationDisplay=vjs.Component.extend({init:function(b,a){vjs.Component.call(this,b,a);b.on("timeupdate",vjs.bind(this,this.updateContent))}});vjs.DurationDisplay.prototype.createEl=function(){var a=vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-duration vjs-time-controls vjs-control"});this.content=vjs.createEl("div",{className:"vjs-duration-display",innerHTML:'<span class="vjs-control-text">Duration Time </span>0:00',"aria-live":"off"});a.appendChild(vjs.createEl("div").appendChild(this.content));return a};vjs.DurationDisplay.prototype.updateContent=function(){if(this.player_.duration()){this.content.innerHTML='<span class="vjs-control-text">Duration Time </span>'+vjs.formatTime(this.player_.duration())}};vjs.TimeDivider=vjs.Component.extend({init:function(b,a){vjs.Component.call(this,b,a)}});vjs.TimeDivider.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-time-divider",innerHTML:"<div><span>/</span></div>"})};vjs.RemainingTimeDisplay=vjs.Component.extend({init:function(b,a){vjs.Component.call(this,b,a);b.on("timeupdate",vjs.bind(this,this.updateContent))}});vjs.RemainingTimeDisplay.prototype.createEl=function(){var a=vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-remaining-time vjs-time-controls vjs-control"});this.content=vjs.createEl("div",{className:"vjs-remaining-time-display",innerHTML:'<span class="vjs-control-text">Remaining Time </span>-0:00',"aria-live":"off"});a.appendChild(vjs.createEl("div").appendChild(this.content));return a};vjs.RemainingTimeDisplay.prototype.updateContent=function(){if(this.player_.duration()){if(this.player_.duration()){this.content.innerHTML='<span class="vjs-control-text">Remaining Time </span>-'+vjs.formatTime(this.player_.remainingTime())}}};vjs.FullscreenToggle=vjs.Button.extend({init:function(b,a){vjs.Button.call(this,b,a)}});vjs.FullscreenToggle.prototype.buttonText="Fullscreen";vjs.FullscreenToggle.prototype.buildCSSClass=function(){return"vjs-fullscreen-control "+vjs.Button.prototype.buildCSSClass.call(this)};vjs.FullscreenToggle.prototype.onClick=function(){if(!this.player_.isFullScreen){this.player_.requestFullScreen();this.el_.children[0].children[0].innerHTML="Non-Fullscreen"}else{this.player_.cancelFullScreen();this.el_.children[0].children[0].innerHTML="Fullscreen"}};vjs.ProgressControl=vjs.Component.extend({init:function(b,a){vjs.Component.call(this,b,a)}});vjs.ProgressControl.prototype.options_={children:{seekBar:{}}};vjs.ProgressControl.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})};vjs.SeekBar=vjs.Slider.extend({init:function(b,a){vjs.Slider.call(this,b,a);b.on("timeupdate",vjs.bind(this,this.updateARIAAttributes));b.ready(vjs.bind(this,this.updateARIAAttributes))}});vjs.SeekBar.prototype.options_={children:{loadProgressBar:{},playProgressBar:{},seekHandle:{}},barName:"playProgressBar",handleName:"seekHandle"};vjs.SeekBar.prototype.playerEvent="timeupdate";vjs.SeekBar.prototype.createEl=function(){return vjs.Slider.prototype.createEl.call(this,"div",{className:"vjs-progress-holder","aria-label":"video progress bar"})};vjs.SeekBar.prototype.updateARIAAttributes=function(){var a=(this.player_.scrubbing)?this.player_.getCache().currentTime:this.player_.currentTime();this.el_.setAttribute("aria-valuenow",vjs.round(this.getPercent()*100,2));this.el_.setAttribute("aria-valuetext",vjs.formatTime(a,this.player_.duration()))};vjs.SeekBar.prototype.getPercent=function(){return this.player_.currentTime()/this.player_.duration()};vjs.SeekBar.prototype.onMouseDown=function(a){vjs.Slider.prototype.onMouseDown.call(this,a);this.player_.scrubbing=true;this.videoWasPlaying=!this.player_.paused();this.player_.pause()};vjs.SeekBar.prototype.onMouseMove=function(b){var a=this.calculateDistance(b)*this.player_.duration();if(a==this.player_.duration()){a=a-0.1}this.player_.currentTime(a)};vjs.SeekBar.prototype.onMouseUp=function(a){vjs.Slider.prototype.onMouseUp.call(this,a);this.player_.scrubbing=false;if(this.videoWasPlaying){this.player_.play()}};vjs.SeekBar.prototype.stepForward=function(){this.player_.currentTime(this.player_.currentTime()+5)};vjs.SeekBar.prototype.stepBack=function(){this.player_.currentTime(this.player_.currentTime()-5)};vjs.LoadProgressBar=vjs.Component.extend({init:function(b,a){vjs.Component.call(this,b,a);b.on("progress",vjs.bind(this,this.update))}});vjs.LoadProgressBar.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-load-progress",innerHTML:'<span class="vjs-control-text">Loaded: 0%</span>'})};vjs.LoadProgressBar.prototype.update=function(){if(this.el_.style){this.el_.style.width=vjs.round(this.player_.bufferedPercent()*100,2)+"%"}};vjs.PlayProgressBar=vjs.Component.extend({init:function(b,a){vjs.Component.call(this,b,a)}});vjs.PlayProgressBar.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-play-progress",innerHTML:'<span class="vjs-control-text">Progress: 0%</span>'})};vjs.SeekHandle=vjs.SliderHandle.extend();vjs.SeekHandle.prototype.defaultValue="00:00";vjs.SeekHandle.prototype.createEl=function(){return vjs.SliderHandle.prototype.createEl.call(this,"div",{className:"vjs-seek-handle"})};vjs.VolumeControl=vjs.Component.extend({init:function(b,a){vjs.Component.call(this,b,a);if(b.tech&&b.tech.features&&b.tech.features.volumeControl===false){this.addClass("vjs-hidden")}b.on("loadstart",vjs.bind(this,function(){if(b.tech.features&&b.tech.features.volumeControl===false){this.addClass("vjs-hidden")}else{this.removeClass("vjs-hidden")}}))}});vjs.VolumeControl.prototype.options_={children:{volumeBar:{}}};vjs.VolumeControl.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control"})};vjs.VolumeBar=vjs.Slider.extend({init:function(b,a){vjs.Slider.call(this,b,a);b.on("volumechange",vjs.bind(this,this.updateARIAAttributes));b.ready(vjs.bind(this,this.updateARIAAttributes));setTimeout(vjs.bind(this,this.update),0)}});vjs.VolumeBar.prototype.updateARIAAttributes=function(){this.el_.setAttribute("aria-valuenow",vjs.round(this.player_.volume()*100,2));this.el_.setAttribute("aria-valuetext",vjs.round(this.player_.volume()*100,2)+"%")};vjs.VolumeBar.prototype.options_={children:{volumeLevel:{},volumeHandle:{}},barName:"volumeLevel",handleName:"volumeHandle"};vjs.VolumeBar.prototype.playerEvent="volumechange";vjs.VolumeBar.prototype.createEl=function(){return vjs.Slider.prototype.createEl.call(this,"div",{className:"vjs-volume-bar","aria-label":"volume level"})};vjs.VolumeBar.prototype.onMouseMove=function(a){this.player_.volume(this.calculateDistance(a))};vjs.VolumeBar.prototype.getPercent=function(){if(this.player_.muted()){return 0}else{return this.player_.volume()}};vjs.VolumeBar.prototype.stepForward=function(){this.player_.volume(this.player_.volume()+0.1)};vjs.VolumeBar.prototype.stepBack=function(){this.player_.volume(this.player_.volume()-0.1)};vjs.VolumeLevel=vjs.Component.extend({init:function(b,a){vjs.Component.call(this,b,a)}});vjs.VolumeLevel.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"></span>'})};vjs.VolumeHandle=vjs.SliderHandle.extend();vjs.VolumeHandle.prototype.defaultValue="00:00";vjs.VolumeHandle.prototype.createEl=function(){return vjs.SliderHandle.prototype.createEl.call(this,"div",{className:"vjs-volume-handle"})};vjs.MuteToggle=vjs.Button.extend({init:function(b,a){vjs.Button.call(this,b,a);b.on("volumechange",vjs.bind(this,this.update));if(b.tech&&b.tech.features&&b.tech.features.volumeControl===false){this.addClass("vjs-hidden")}b.on("loadstart",vjs.bind(this,function(){if(b.tech.features&&b.tech.features.volumeControl===false){this.addClass("vjs-hidden")}else{this.removeClass("vjs-hidden")}}))}});vjs.MuteToggle.prototype.createEl=function(){return vjs.Button.prototype.createEl.call(this,"div",{className:"vjs-mute-control vjs-control",innerHTML:'<div><span class="vjs-control-text">Mute</span></div>'})};vjs.MuteToggle.prototype.onClick=function(){this.player_.muted(this.player_.muted()?false:true)};vjs.MuteToggle.prototype.update=function(){var b=this.player_.volume(),c=3;if(b===0||this.player_.muted()){c=0}else{if(b<0.33){c=1}else{if(b<0.67){c=2}}}if(this.player_.muted()){if(this.el_.children[0].children[0].innerHTML!="Unmute"){this.el_.children[0].children[0].innerHTML="Unmute"}}else{if(this.el_.children[0].children[0].innerHTML!="Mute"){this.el_.children[0].children[0].innerHTML="Mute"}}for(var a=0;a<4;a++){vjs.removeClass(this.el_,"vjs-vol-"+a)}vjs.addClass(this.el_,"vjs-vol-"+c)};vjs.VolumeMenuButton=vjs.MenuButton.extend({init:function(b,a){vjs.MenuButton.call(this,b,a);b.on("volumechange",vjs.bind(this,this.update));if(b.tech&&b.tech.features&&b.tech.features.volumeControl===false){this.addClass("vjs-hidden")}b.on("loadstart",vjs.bind(this,function(){if(b.tech.features&&b.tech.features.volumeControl===false){this.addClass("vjs-hidden")}else{this.removeClass("vjs-hidden")}}));this.addClass("vjs-menu-button")}});vjs.VolumeMenuButton.prototype.createMenu=function(){var b=new vjs.Menu(this.player_,{contentElType:"div"});var a=new vjs.VolumeBar(this.player_,vjs.obj.merge({vertical:true},this.options_.volumeBar));b.addChild(a);return b};vjs.VolumeMenuButton.prototype.onClick=function(){vjs.MuteToggle.prototype.onClick.call(this);vjs.MenuButton.prototype.onClick.call(this)};vjs.VolumeMenuButton.prototype.createEl=function(){return vjs.Button.prototype.createEl.call(this,"div",{className:"vjs-volume-menu-button vjs-menu-button vjs-control",innerHTML:'<div><span class="vjs-control-text">Mute</span></div>'})};vjs.VolumeMenuButton.prototype.update=vjs.MuteToggle.prototype.update;vjs.PosterImage=vjs.Button.extend({init:function(b,a){vjs.Button.call(this,b,a);if(!b.poster()||!b.controls()){this.hide()}b.on("play",vjs.bind(this,this.hide))}});vjs.PosterImage.prototype.createEl=function(){var a=vjs.createEl("div",{className:"vjs-poster",tabIndex:-1}),b=this.player_.poster();if(b){if("backgroundSize" in a.style){a.style.backgroundImage='url("'+b+'")'}else{a.appendChild(vjs.createEl("img",{src:b}))}}return a};vjs.PosterImage.prototype.onClick=function(){this.player_.play()};vjs.LoadingSpinner=vjs.Component.extend({init:function(b,a){vjs.Component.call(this,b,a);b.on("canplay",vjs.bind(this,this.hide));b.on("canplaythrough",vjs.bind(this,this.hide));b.on("playing",vjs.bind(this,this.hide));b.on("seeked",vjs.bind(this,this.hide));b.on("seeking",vjs.bind(this,this.show));b.on("seeked",vjs.bind(this,this.hide));b.on("error",vjs.bind(this,this.show));b.on("waiting",vjs.bind(this,this.show))}});vjs.LoadingSpinner.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner"})};vjs.BigPlayButton=vjs.Button.extend({init:function(b,a){vjs.Button.call(this,b,a);if(!b.controls()){this.hide()}b.on("play",vjs.bind(this,this.hide))}});vjs.BigPlayButton.prototype.createEl=function(){return vjs.Button.prototype.createEl.call(this,"div",{className:"vjs-big-play-button",innerHTML:"<span></span>","aria-label":"play video"})};vjs.BigPlayButton.prototype.onClick=function(){this.player_.play()};vjs.MediaTechController=vjs.Component.extend({init:function(b,a,c){vjs.Component.call(this,b,a,c)}});vjs.MediaTechController.prototype.onClick=(function(){if(vjs.IS_ANDROID){return function(){}}else{return function(){if(this.player_.controls()){if(this.player_.paused()){this.player_.play()}else{this.player_.pause()}}}}})();vjs.MediaTechController.prototype.features={volumeControl:true,fullscreenResize:false,progressEvents:false,timeupdateEvents:false};vjs.media={};vjs.media.ApiMethods="play,pause,paused,currentTime,setCurrentTime,duration,buffered,volume,setVolume,muted,setMuted,width,height,supportsFullScreen,enterFullScreen,src,load,currentSrc,preload,setPreload,autoplay,setAutoplay,loop,setLoop,error,networkState,readyState,seeking,initialTime,startOffsetTime,played,seekable,ended,videoTracks,audioTracks,videoWidth,videoHeight,textTracks,defaultPlaybackRate,playbackRate,mediaGroup,controller,controls,defaultMuted".split(",");function createMethod(a){return function(){throw new Error('The "'+a+"\" method is not available on the playback technology's API")}}for(var i=vjs.media.ApiMethods.length-1;i>=0;i--){var methodName=vjs.media.ApiMethods[i];vjs.MediaTechController.prototype[vjs.media.ApiMethods[i]]=createMethod(methodName)}vjs.Html5=vjs.MediaTechController.extend({init:function(b,a,c){this.features.volumeControl=vjs.Html5.canControlVolume();this.features.movingMediaElementInDOM=!vjs.IS_IOS;this.features.fullscreenResize=true;vjs.MediaTechController.call(this,b,a,c);var d=a.source;if(d&&this.el_.currentSrc==d.src){b.trigger("loadstart")}else{if(d){this.el_.src=d.src}}b.ready(function(){if(this.tag&&this.options_.autoplay&&this.paused()){delete this.tag.poster;this.play()}});this.on("click",this.onClick);this.setupTriggers();this.triggerReady()}});vjs.Html5.prototype.dispose=function(){vjs.MediaTechController.prototype.dispose.call(this)};vjs.Html5.prototype.createEl=function(){var d=this.player_,e=d.tag,f;if(!e||this.features.movingMediaElementInDOM===false){if(e){e.player=null;d.tag=null;d.el().removeChild(e);e=e.cloneNode(false)}else{e=vjs.createEl("video",{id:d.id()+"_html5_api",className:"vjs-tech"})}e.player=d;vjs.insertFirst(e,d.el())}var b=["autoplay","preload","loop","muted"];for(var c=b.length-1;c>=0;c--){var a=b[c];if(d.options_[a]!==null){e[a]=d.options_[a]}}return e};vjs.Html5.prototype.setupTriggers=function(){for(var a=vjs.Html5.Events.length-1;a>=0;a--){vjs.on(this.el_,vjs.Html5.Events[a],vjs.bind(this.player_,this.eventHandler))}};vjs.Html5.prototype.eventHandler=function(a){this.trigger(a);a.stopPropagation()};vjs.Html5.prototype.play=function(){this.el_.play()};vjs.Html5.prototype.pause=function(){this.el_.pause()};vjs.Html5.prototype.paused=function(){return this.el_.paused};vjs.Html5.prototype.currentTime=function(){return this.el_.currentTime};vjs.Html5.prototype.setCurrentTime=function(b){try{this.el_.currentTime=b}catch(a){vjs.log(a,"Video is not ready. (Video.js)")}};vjs.Html5.prototype.duration=function(){return this.el_.duration||0};vjs.Html5.prototype.buffered=function(){return this.el_.buffered};vjs.Html5.prototype.volume=function(){return this.el_.volume};vjs.Html5.prototype.setVolume=function(a){this.el_.volume=a};vjs.Html5.prototype.muted=function(){return this.el_.muted};vjs.Html5.prototype.setMuted=function(a){this.el_.muted=a};vjs.Html5.prototype.width=function(){return this.el_.offsetWidth};vjs.Html5.prototype.height=function(){return this.el_.offsetHeight};vjs.Html5.prototype.supportsFullScreen=function(){if(typeof this.el_.webkitEnterFullScreen=="function"){if(/Android/.test(vjs.USER_AGENT)||!/Chrome|Mac OS X 10.5/.test(vjs.USER_AGENT)){return true}}return false};vjs.Html5.prototype.enterFullScreen=function(){var a=this.el_;if(a.paused&&a.networkState<=a.HAVE_METADATA){this.el_.play();setTimeout(function(){a.pause();a.webkitEnterFullScreen()},0)}else{a.webkitEnterFullScreen()}};vjs.Html5.prototype.exitFullScreen=function(){this.el_.webkitExitFullScreen()};vjs.Html5.prototype.src=function(a){this.el_.src=a};vjs.Html5.prototype.load=function(){this.el_.load()};vjs.Html5.prototype.currentSrc=function(){return this.el_.currentSrc};vjs.Html5.prototype.preload=function(){return this.el_.preload};vjs.Html5.prototype.setPreload=function(a){this.el_.preload=a};vjs.Html5.prototype.autoplay=function(){return this.el_.autoplay};vjs.Html5.prototype.setAutoplay=function(a){this.el_.autoplay=a};vjs.Html5.prototype.loop=function(){return this.el_.loop};vjs.Html5.prototype.setLoop=function(a){this.el_.loop=a};vjs.Html5.prototype.error=function(){return this.el_.error};vjs.Html5.prototype.seeking=function(){return this.el_.seeking};vjs.Html5.prototype.ended=function(){return this.el_.ended};vjs.Html5.prototype.defaultMuted=function(){return this.el_.defaultMuted};vjs.Html5.isSupported=function(){return !!vjs.TEST_VID.canPlayType};vjs.Html5.canPlaySource=function(a){try{return !!vjs.TEST_VID.canPlayType(a.type)}catch(b){return""}};vjs.Html5.canControlVolume=function(){var a=vjs.TEST_VID.volume;vjs.TEST_VID.volume=(a/2)+0.1;return a!==vjs.TEST_VID.volume};vjs.Html5.Events="loadstart,suspend,abort,error,emptied,stalled,loadedmetadata,loadeddata,canplay,canplaythrough,playing,waiting,seeking,seeked,ended,durationchange,timeupdate,progress,play,pause,ratechange,volumechange".split(",");if(vjs.IS_OLD_ANDROID){document.createElement("video").constructor.prototype.canPlayType=function(a){return(a&&a.toLowerCase().indexOf("video/mp4")!=-1)?"maybe":""}}vjs.Flash=vjs.MediaTechController.extend({init:function(l,m,j){vjs.MediaTechController.call(this,l,m,j);var a=m.source,g=m.parentEl,k=this.el_=vjs.createEl("div",{id:l.id()+"_temp_flash"}),b=l.id()+"_flash_api",c=l.options_,h=vjs.obj.merge({readyFunction:"videojs.Flash.onReady",eventProxyFunction:"videojs.Flash.onEvent",errorEventProxyFunction:"videojs.Flash.onError",autoplay:c.autoplay,preload:c.preload,loop:c.loop,muted:c.muted},m.flashVars),d=vjs.obj.merge({wmode:"opaque",bgcolor:"#FFFFFF"},m.params),e=vjs.obj.merge({id:b,name:b,"class":"vjs-tech"},m.attributes);if(a){h.src=encodeURIComponent(vjs.getAbsoluteURL(a.src))}vjs.insertFirst(k,g);if(m.startTime){this.ready(function(){this.load();this.play();this.currentTime(m.startTime)})}if(m.iFrameMode===true&&!vjs.IS_FIREFOX){var f=vjs.createEl("iframe",{id:b+"_iframe",name:b+"_iframe",className:"vjs-tech",scrolling:"no",marginWidth:0,marginHeight:0,frameBorder:0});h.readyFunction="ready";h.eventProxyFunction="events";h.errorEventProxyFunction="errors";vjs.on(f,"load",vjs.bind(this,function(){var o,n=f.contentWindow;o=f.contentDocument?f.contentDocument:f.contentWindow.document;o.write(vjs.Flash.getEmbedCode(m.swf,h,d,e));n.player=this.player_;n.ready=vjs.bind(this.player_,function(q){var s=o.getElementById(q),r=this,p=r.tech;p.el_=s;vjs.on(s,"click",p.bind(p.onClick));vjs.Flash.checkReady(p)});n.events=vjs.bind(this.player_,function(q,p){var r=this;if(r&&r.techName==="flash"){r.trigger(p)}});n.errors=vjs.bind(this.player_,function(q,p){vjs.log("Flash Error",p)})}));k.parentNode.replaceChild(f,k)}else{vjs.Flash.embed(m.swf,k,h,d,e)}}});vjs.Flash.prototype.dispose=function(){vjs.MediaTechController.prototype.dispose.call(this)};vjs.Flash.prototype.play=function(){this.el_.vjs_play()};vjs.Flash.prototype.pause=function(){this.el_.vjs_pause()};vjs.Flash.prototype.src=function(b){b=vjs.getAbsoluteURL(b);this.el_.vjs_src(b);if(this.player_.autoplay()){var a=this;setTimeout(function(){a.play()},0)}};vjs.Flash.prototype.load=function(){this.el_.vjs_load()};vjs.Flash.prototype.poster=function(){this.el_.vjs_getProperty("poster")};vjs.Flash.prototype.buffered=function(){return vjs.createTimeRange(0,this.el_.vjs_getProperty("buffered"))};vjs.Flash.prototype.supportsFullScreen=function(){return false};vjs.Flash.prototype.enterFullScreen=function(){return false};var api=vjs.Flash.prototype,readWrite="preload,currentTime,defaultPlaybackRate,playbackRate,autoplay,loop,mediaGroup,controller,controls,volume,muted,defaultMuted".split(","),readOnly="error,currentSrc,networkState,readyState,seeking,initialTime,duration,startOffsetTime,paused,played,seekable,ended,videoTracks,audioTracks,videoWidth,videoHeight,textTracks".split(",");var createSetter=function(a){var b=a.charAt(0).toUpperCase()+a.slice(1);api["set"+b]=function(c){return this.el_.vjs_setProperty(a,c)}};var createGetter=function(a){api[a]=function(){return this.el_.vjs_getProperty(a)}};(function(){var a;for(a=0;a<readWrite.length;a++){createGetter(readWrite[a]);createSetter(readWrite[a])}for(a=0;a<readOnly.length;a++){createGetter(readOnly[a])}})();vjs.Flash.isSupported=function(){return vjs.Flash.version()[0]>=10};vjs.Flash.canPlaySource=function(a){if(a.type in vjs.Flash.formats){return"maybe"}};vjs.Flash.formats={"video/flv":"FLV","video/x-flv":"FLV","video/mp4":"MP4","video/m4v":"MP4"};vjs.Flash.onReady=function(b){var d=vjs.el(b);var c=d.player||d.parentNode.player,a=c.tech;d.player=c;a.el_=d;a.on("click",a.onClick);vjs.Flash.checkReady(a)};vjs.Flash.checkReady=function(a){if(a.el().vjs_getProperty){a.triggerReady()}else{setTimeout(function(){vjs.Flash.checkReady(a)},50)}};vjs.Flash.onEvent=function(b,a){var c=vjs.el(b)["player"];c.trigger(a)};vjs.Flash.onError=function(a,c){var b=vjs.el(a)["player"];b.trigger("error");vjs.log("Flash Error",c,a)};vjs.Flash.version=function(){var a="0,0,0";try{a=new window.ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version").replace(/\D+/g,",").match(/^,?(.+),?$/)[1]}catch(c){try{if(navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin){a=(navigator.plugins["Shockwave Flash 2.0"]||navigator.plugins["Shockwave Flash"]).description.replace(/\D+/g,",").match(/^,?(.+),?$/)[1]}}catch(b){}}return a.split(",")};vjs.Flash.embed=function(b,j,g,c,e){var a=vjs.Flash.getEmbedCode(b,g,c,e),f=vjs.createEl("div",{innerHTML:a}).childNodes[0],h=j.parentNode;j.parentNode.replaceChild(f,j);var d=h.childNodes[0];setTimeout(function(){d.style.display="block"},1000);return f};vjs.Flash.getEmbedCode=function(e,h,g,b){var c='<object type="application/x-shockwave-flash"',a="",f="",d="";if(h){vjs.obj.each(h,function(j,k){a+=(j+"="+k+"&amp;")})}g=vjs.obj.merge({movie:e,flashvars:a,allowScriptAccess:"always",allowNetworking:"all"},g);vjs.obj.each(g,function(j,k){f+='<param name="'+j+'" value="'+k+'" />'});b=vjs.obj.merge({data:e,width:"100%",height:"100%"},b);vjs.obj.each(b,function(j,k){d+=(j+'="'+k+'" ')});return c+d+">"+f+"</object>"};vjs.MediaLoader=vjs.Component.extend({init:function(e,c,f){vjs.Component.call(this,e,c,f);if(!e.options_.sources||e.options_.sources.length===0){for(var d=0,b=e.options_.techOrder;d<b.length;d++){var g=vjs.capitalize(b[d]),a=window.videojs[g];if(a&&a.isSupported()){e.loadTech(g);break}}}else{e.src(e.options_.sources)}}});vjs.Player.prototype.textTracks_;vjs.Player.prototype.textTracks=function(){this.textTracks_=this.textTracks_||[];return this.textTracks_};vjs.Player.prototype.addTextTrack=function(f,e,g,d){var c=this.textTracks_=this.textTracks_||[];d=d||{};d.kind=f;d.label=e;d.language=g;var b=vjs.capitalize(f||"subtitles");var a=new window.videojs[b+"Track"](this,d);c.push(a);return a};vjs.Player.prototype.addTextTracks=function(b){var c;for(var a=0;a<b.length;a++){c=b[a];this.addTextTrack(c.kind,c.label,c.language,c)}return this};vjs.Player.prototype.showTextTrack=function(h,f){var c=this.textTracks_,d=0,b=c.length,a,g,e;for(;d<b;d++){a=c[d];if(a.id()===h){a.show();g=a}else{if(f&&a.kind()==f&&a.mode()>0){a.disable()}}}e=(g)?g.kind():((f)?f:false);if(e){this.trigger(e+"trackchange")}return this};vjs.TextTrack=vjs.Component.extend({init:function(b,a){vjs.Component.call(this,b,a);this.id_=a.id||("vjs_"+a.kind+"_"+a.language+"_"+vjs.guid++);this.src_=a.src;this.dflt_=a["default"]||a.dflt;this.title_=a.title;this.language_=a.srclang;this.label_=a.label;this.cues_=[];this.activeCues_=[];this.readyState_=0;this.mode_=0;this.player_.on("fullscreenchange",vjs.bind(this,this.adjustFontSize))}});vjs.TextTrack.prototype.kind_;vjs.TextTrack.prototype.kind=function(){return this.kind_};vjs.TextTrack.prototype.src_;vjs.TextTrack.prototype.src=function(){return this.src_};vjs.TextTrack.prototype.dflt_;vjs.TextTrack.prototype.dflt=function(){return this.dflt_};vjs.TextTrack.prototype.title_;vjs.TextTrack.prototype.title=function(){return this.title_};vjs.TextTrack.prototype.language_;vjs.TextTrack.prototype.language=function(){return this.language_};vjs.TextTrack.prototype.label_;vjs.TextTrack.prototype.label=function(){return this.label_};vjs.TextTrack.prototype.cues_;vjs.TextTrack.prototype.cues=function(){return this.cues_};vjs.TextTrack.prototype.activeCues_;vjs.TextTrack.prototype.activeCues=function(){return this.activeCues_};vjs.TextTrack.prototype.readyState_;vjs.TextTrack.prototype.readyState=function(){return this.readyState_};vjs.TextTrack.prototype.mode_;vjs.TextTrack.prototype.mode=function(){return this.mode_};vjs.TextTrack.prototype.adjustFontSize=function(){if(this.player_.isFullScreen){this.el_.style.fontSize=screen.width/this.player_.width()*1.4*100+"%"}else{this.el_.style.fontSize=""}};vjs.TextTrack.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-"+this.kind_+" vjs-text-track"})};vjs.TextTrack.prototype.show=function(){this.activate();this.mode_=2;vjs.Component.prototype.show.call(this)};vjs.TextTrack.prototype.hide=function(){this.activate();this.mode_=1;vjs.Component.prototype.hide.call(this)};vjs.TextTrack.prototype.disable=function(){if(this.mode_==2){this.hide()}this.deactivate();this.mode_=0};vjs.TextTrack.prototype.activate=function(){if(this.readyState_===0){this.load()}if(this.mode_===0){this.player_.on("timeupdate",vjs.bind(this,this.update,this.id_));this.player_.on("ended",vjs.bind(this,this.reset,this.id_));if(this.kind_==="captions"||this.kind_==="subtitles"){this.player_.getChild("textTrackDisplay").addChild(this)}}};vjs.TextTrack.prototype.deactivate=function(){this.player_.off("timeupdate",vjs.bind(this,this.update,this.id_));this.player_.off("ended",vjs.bind(this,this.reset,this.id_));this.reset();this.player_.getChild("textTrackDisplay").removeChild(this)};vjs.TextTrack.prototype.load=function(){if(this.readyState_===0){this.readyState_=1;vjs.get(this.src_,vjs.bind(this,this.parseCues),vjs.bind(this,this.onError))}};vjs.TextTrack.prototype.onError=function(a){this.error=a;this.readyState_=3;this.trigger("error")};vjs.TextTrack.prototype.parseCues=function(b){var f,c,g,h=b.split("\n"),k="",a;for(var e=1,d=h.length;e<d;e++){k=vjs.trim(h[e]);if(k){if(k.indexOf("-->")==-1){a=k;k=vjs.trim(h[++e])}else{a=this.cues_.length}f={id:a,index:this.cues_.length};c=k.split(" --> ");f.startTime=this.parseCueTime(c[0]);f.endTime=this.parseCueTime(c[1]);g=[];while(h[++e]&&(k=vjs.trim(h[e]))){g.push(k)}f.text=g.join("<br/>");this.cues_.push(f)}}this.readyState_=2;this.trigger("loaded")};vjs.TextTrack.prototype.parseCueTime=function(b){var g=b.split(":"),f=0,c,e,a,h,d;if(g.length==3){c=g[0];e=g[1];a=g[2]}else{c=0;e=g[0];a=g[1]}a=a.split(/\s+/);h=a.splice(0,1)[0];h=h.split(/\.|,/);d=parseFloat(h[1]);h=h[0];f+=parseFloat(c)*3600;f+=parseFloat(e)*60;f+=parseFloat(h);if(d){f+=d/1000}return f};vjs.TextTrack.prototype.update=function(){if(this.cues_.length>0){var b=this.player_.currentTime();if(this.prevChange===undefined||b<this.prevChange||this.nextChange<=b){var f=this.cues_,k=this.player_.duration(),j=0,g=false,a=[],h,e,d,c;if(b>=this.nextChange||this.nextChange===undefined){c=(this.firstActiveIndex!==undefined)?this.firstActiveIndex:0}else{g=true;c=(this.lastActiveIndex!==undefined)?this.lastActiveIndex:f.length-1}while(true){d=f[c];if(d.endTime<=b){j=Math.max(j,d.endTime);if(d.active){d.active=false}}else{if(b<d.startTime){k=Math.min(k,d.startTime);if(d.active){d.active=false}if(!g){break}}else{if(g){a.splice(0,0,d);if(e===undefined){e=c}h=c}else{a.push(d);if(h===undefined){h=c}e=c}k=Math.min(k,d.endTime);j=Math.max(j,d.startTime);d.active=true}}if(g){if(c===0){break}else{c--}}else{if(c===f.length-1){break}else{c++}}}this.activeCues_=a;this.nextChange=k;this.prevChange=j;this.firstActiveIndex=h;this.lastActiveIndex=e;this.updateDisplay();this.trigger("cuechange")}}};vjs.TextTrack.prototype.updateDisplay=function(){var b=this.activeCues_,d="",c=0,a=b.length;for(;c<a;c++){d+='<span class="vjs-tt-cue">'+b[c].text+"</span>"}this.el_.innerHTML=d};vjs.TextTrack.prototype.reset=function(){this.nextChange=0;this.prevChange=this.player_.duration();this.firstActiveIndex=0;this.lastActiveIndex=0};vjs.CaptionsTrack=vjs.TextTrack.extend();vjs.CaptionsTrack.prototype.kind_="captions";vjs.SubtitlesTrack=vjs.TextTrack.extend();vjs.SubtitlesTrack.prototype.kind_="subtitles";vjs.ChaptersTrack=vjs.TextTrack.extend();vjs.ChaptersTrack.prototype.kind_="chapters";vjs.TextTrackDisplay=vjs.Component.extend({init:function(b,a,c){vjs.Component.call(this,b,a,c);if(b.options_.tracks&&b.options_.tracks.length>0){this.player_.addTextTracks(b.options_.tracks)}}});vjs.TextTrackDisplay.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"})};vjs.TextTrackMenuItem=vjs.MenuItem.extend({init:function(c,b){var a=this.track=b.track;b.label=a.label();b.selected=a.dflt();vjs.MenuItem.call(this,c,b);this.player_.on(a.kind()+"trackchange",vjs.bind(this,this.update))}});vjs.TextTrackMenuItem.prototype.onClick=function(){vjs.MenuItem.prototype.onClick.call(this);this.player_.showTextTrack(this.track.id_,this.track.kind())};vjs.TextTrackMenuItem.prototype.update=function(){this.selected(this.track.mode()==2)};vjs.OffTextTrackMenuItem=vjs.TextTrackMenuItem.extend({init:function(b,a){a.track={kind:function(){return a.kind},player:b,label:function(){return a.kind+" off"},dflt:function(){return false},mode:function(){return false}};vjs.TextTrackMenuItem.call(this,b,a);this.selected(true)}});vjs.OffTextTrackMenuItem.prototype.onClick=function(){vjs.TextTrackMenuItem.prototype.onClick.call(this);this.player_.showTextTrack(this.track.id_,this.track.kind())};vjs.OffTextTrackMenuItem.prototype.update=function(){var c=this.player_.textTracks(),d=0,b=c.length,a,e=true;for(;d<b;d++){a=c[d];if(a.kind()==this.track.kind()&&a.mode()==2){e=false}}this.selected(e)};vjs.TextTrackButton=vjs.MenuButton.extend({init:function(b,a){vjs.MenuButton.call(this,b,a);if(this.items.length<=1){this.hide()}}});vjs.TextTrackButton.prototype.createItems=function(){var b=[],a;b.push(new vjs.OffTextTrackMenuItem(this.player_,{kind:this.kind_}));for(var c=0;c<this.player_.textTracks().length;c++){a=this.player_.textTracks()[c];if(a.kind()===this.kind_){b.push(new vjs.TextTrackMenuItem(this.player_,{track:a}))}}return b};vjs.CaptionsButton=vjs.TextTrackButton.extend({init:function(b,a,c){vjs.TextTrackButton.call(this,b,a,c);this.el_.setAttribute("aria-label","Captions Menu")}});vjs.CaptionsButton.prototype.kind_="captions";vjs.CaptionsButton.prototype.buttonText="Captions";vjs.CaptionsButton.prototype.className="vjs-captions-button";vjs.SubtitlesButton=vjs.TextTrackButton.extend({init:function(b,a,c){vjs.TextTrackButton.call(this,b,a,c);this.el_.setAttribute("aria-label","Subtitles Menu")}});vjs.SubtitlesButton.prototype.kind_="subtitles";vjs.SubtitlesButton.prototype.buttonText="Subtitles";vjs.SubtitlesButton.prototype.className="vjs-subtitles-button";vjs.ChaptersButton=vjs.TextTrackButton.extend({init:function(b,a,c){vjs.TextTrackButton.call(this,b,a,c);this.el_.setAttribute("aria-label","Chapters Menu")}});vjs.ChaptersButton.prototype.kind_="chapters";vjs.ChaptersButton.prototype.buttonText="Chapters";vjs.ChaptersButton.prototype.className="vjs-chapters-button";vjs.ChaptersButton.prototype.createItems=function(){var b=[],a;for(var c=0;c<this.player_.textTracks().length;c++){a=this.player_.textTracks()[c];if(a.kind()===this.kind_){b.push(new vjs.TextTrackMenuItem(this.player_,{track:a}))}}return b};vjs.ChaptersButton.prototype.createMenu=function(){var h=this.player_.textTracks(),e=0,c=h.length,b,l,k=this.items=[];for(;e<c;e++){b=h[e];if(b.kind()==this.kind_&&b.dflt()){if(b.readyState()<2){this.chaptersTrack=b;b.on("loaded",vjs.bind(this,this.createMenu));return}else{l=b;break}}}var a=this.menu=new vjs.Menu(this.player_);a.el_.appendChild(vjs.createEl("li",{className:"vjs-menu-title",innerHTML:vjs.capitalize(this.kind_),tabindex:-1}));if(l){var f=l.cues_,d,g;e=0;c=f.length;for(;e<c;e++){d=f[e];g=new vjs.ChaptersTrackMenuItem(this.player_,{track:l,cue:d});k.push(g);a.addChild(g)}}if(this.items.length>0){this.show()}return a};vjs.ChaptersTrackMenuItem=vjs.MenuItem.extend({init:function(d,c){var b=this.track=c.track,a=this.cue=c.cue,e=d.currentTime();c.label=a.text;c.selected=(a.startTime<=e&&e<a.endTime);vjs.MenuItem.call(this,d,c);b.on("cuechange",vjs.bind(this,this.update))}});vjs.ChaptersTrackMenuItem.prototype.onClick=function(){vjs.MenuItem.prototype.onClick.call(this);this.player_.currentTime(this.cue.startTime);this.update(this.cue.startTime)};vjs.ChaptersTrackMenuItem.prototype.update=function(){var a=this.cue,b=this.player_.currentTime();this.selected(a.startTime<=b&&b<a.endTime)};vjs.obj.merge(vjs.ControlBar.prototype.options_.children,{subtitlesButton:{},captionsButton:{},chaptersButton:{}});vjs.JSON;if(typeof window.JSON!=="undefined"&&window.JSON.parse==="function"){vjs.JSON=window.JSON}else{vjs.JSON={};var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;vjs.JSON.parse=function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==="object"){for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v}else{delete value[k]}}}}return reviver.call(holder,key,value)}text=String(text);cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})}if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof reviver==="function"?walk({"":j},""):j}throw new SyntaxError("JSON.parse(): invalid or malformed JSON data")}}vjs.autoSetup=function(){var d,a,f,c=document.getElementsByTagName("video");if(c&&c.length>0){for(var e=0,b=c.length;e<b;e++){a=c[e];if(a&&a.getAttribute){if(a.player===undefined){d=a.getAttribute("data-setup");if(d!==null){d=vjs.JSON.parse(d||"{}");f=videojs(a,d)}}}else{vjs.autoSetupTimeout(1);break}}}else{if(!vjs.windowLoaded){vjs.autoSetupTimeout(1)}}};vjs.autoSetupTimeout=function(a){setTimeout(vjs.autoSetup,a)};vjs.one(window,"load",function(){vjs.windowLoaded=true});vjs.autoSetupTimeout(1);vjs.plugin=function(a,b){vjs.Player.prototype[a]=b};(function(a){a(document).ready(function(){var e=a("#social_buttons"),b=a("#social_buttons_black_white"),g=a("#social_buttons_black_white li"),d=a("li#tell_a_friend"),f=a(".social_buttonscontainer");try{if("createTouch" in document){b.hide();e.addClass("social_media_ipad");a("#google_plus").addClass("social_button_ipad");a("#tell_a_friend").addClass("social_button_ipad")}else{f.hover(function(){b.hide();e.css("visibility","visible");e.find("li#google_plus").show();d.show()},function(){e.css("visibility","hidden");e.find("li#google_plus").hide();d.hide();b.show()})}}catch(c){}})})(jQuery);if(typeof NAP==="undefined"){var NAP={}}(function(){var c=null;var J=null;var Q=null;var C=null;var q=null;var G=null;var H=null;var O=null;var m=false;var S="createTouch" in document;var A={x:0,y:0};var v={x:0,y:0};var o={x:0,y:0};var N={x:0,y:0};var z=1;var y={x:0,y:0};var B;var k;var l={};var x=null;var s="Click to zoom";var M="xl";var f=10;var d={x:0,y:0};var K="crosshair";var u=0.7;var I=null;var p=null;var r=null;var i=null;var L=null;var t=null;var h=function(){w();P();if(typeof I==="function"){I.call()}};var w=function(){if(tooltip){if($("#prodImg-tt").length<1){F();$("#image-zoom-available").css("display","none")}}else{document.getElementById("image-zoom-available").style.visibility="visible"}};var b=function(){document.getElementById("image-zoom-available").style.visibility="hidden"};var F=function(){var U=$("<div/>",{css:{position:"fixed",padding:"5px",color:"grey",background:"white",border:"1px solid #ccc",display:"none","text-transform":"uppercase"},id:"prodImg-tt",text:$("#image-zoom-available").text()}).appendTo("#medium-image-container");$(U).css({opacity:u});$("#medium-image").bind("mousemove mouseover",function(V){if(!m){U.offset({left:(V.pageX+4),top:(V.pageY+4)});U.css("display","block")}})};var a=function(){$("#prodImg-tt").fadeOut("fast")};var j=function(){if(typeof r==="function"){r.call()}z=O.width/c.innerWidth();o.x=O.width;o.y=O.height;N.y=C.innerHeight()/z;N.x=C.innerWidth()/z;G.style.height=N.y+"px";G.style.width=N.x+"px";J.style.cursor=K;y={x:c.offset().left,y:c.offset().top};h()};var R=function(X){var Z;var Y=0;var W=f*10;var V=l[X];function U(){Y++;if(V&&V.width>0&&Y<=W){window.clearInterval(Z);Y=0;j()}else{if(Y>W){window.clearInterval(Z);Y=0;if(typeof t==="function"){t.call(this,O.src)}}}}Z=window.setInterval(U,50)};var e=function(){var U=Q.attr("src");var V=U.replace(/_[^_]+\./,"_"+M+".");var W;if(typeof p==="function"){p.call()}if(H){H.remove()}if(!l[V]){W=new Image();W.src=V;W.style.position="absolute";W.style.top=0;W.style.left=0;l[V]=W}O=l[V];H=$(O);H.appendTo(C);R(V)};var P=function(){if(S){J.addEventListener("touchstart",n.startZoom,false);J.addEventListener("touchend",n.endZoom,false);J.addEventListener("touchmove",n.moveZoom,false)}else{c.bind("click",n.startZoom);c.bind("mousedown",n.startZoom);c.bind("mouseleave",n.endZoom);c.bind("mousemove",n.moveZoom)}};var T=function(){if(S){J.removeEventListener("touchstart",n.startZoom,false);J.removeEventListener("touchend",n.endZoom,false);J.removeEventListener("touchmove",n.moveZoom,false)}else{c.unbind("click",n.startZoom);c.unbind("mouseleave",n.endZoom);c.unbind("mousemove",n.moveZoom)}};var n={startZoom:function(U){a();if(!m){m=true;if(S){U.preventDefault();if(U.touches!=null){D({x:U.touches[0].pageX-y.x,y:U.touches[0].pageY-y.y})}else{D({x:U.pageX-y.x,y:U.pageY-y.y})}}else{D({x:U.pageX-y.x,y:U.pageY-y.y})}E();if(typeof i==="function"){i.call()}}},endZoom:function(U){a();if(m){m=false;g();if(typeof L==="function"){L.call()}}},moveZoom:function(U){if(m){if(S){U.preventDefault();D({x:U.touches[0].pageX-y.x,y:U.touches[0].pageY-y.y})}else{D({x:U.pageX-y.x,y:U.pageY-y.y})}}}};var E=function(){C.fadeIn();q.fadeIn()};var g=function(){C.fadeOut();q.fadeOut()};var D=function(U){if(isNaN(U.x)||isNaN(U.y)){U={x:0,y:0}}B=Math.min(Math.max(Math.round(U.y-(N.y/2)),-d.y),(A.y+d.y)-(N.y));k=Math.min(Math.max(Math.round(U.x-(N.x/2)),-d.x),(A.x+d.x)-(N.x));G.style.top=B+"px";G.style.left=k+"px";O.style.top=-(B)*z+"px";O.style.left=-(k)*z+"px"};NAP.imageZoom={init:function(U,V){s=V.message||s;f=V.timeout||f;d=V.threshold||d;M=V.imageSizeSuffix||M;K=V.cursorStyle||K;I=V.onZoomReady||I;p=V.beforeZoomImageLoad||p;r=V.afterZoomImageLoad||r;i=V.onZoomStart||i;L=V.onZoomEnd||L;t=V.onZoomLoadError||t;u=V.markerOpacity||u;tooltip=V.tooltip||false;x=U;J=document.getElementById(U);c=$(J);A.x=c.innerWidth();A.y=c.innerHeight();Q=c.find("img");$('<div id="image-zoom-available" style="visibility:hidden">'+s+"</div>").insertAfter(c);C=$('<div id="image-zoom-container" style="display:none; overflow:hidden;"></div>');C.insertBefore(c);v.x=C.innerWidth();v.y=C.innerHeight();q=$('<div id="image-zoom-marker"></div>').css({display:"none",position:"absolute",top:0,left:0,opacity:u});q.prependTo(c);G=document.getElementById("image-zoom-marker");e()},loadNewImage:function(){T();b();e()},setZoomMessage:function(U){s=U;document.getElementById("image-zoom-available").innerHTML=s},getZoomMessage:function(){return s},getZoomScale:function(){return z},showZoom:E,hideZoom:g,showZoomMessage:w,hideZoomMessage:b}}());$(document).ready(function() {

    var previousPage = NAP.productTracking.getReferrer();
    if(previousPage) {
        var legend = '&#171;&nbsp;' + NAP.i18n.message('copy.productPage.back.' + previousPage.pageType);
        $('#thumbnails').before('<a class="back-link" href="' + previousPage.url + '">' + legend + '</a>');

        $('.back-link').click(function(e) {
            e.preventDefault();
            NAP.analytics.trackElement('Back to ' + previousPage.pageType, this);
        });
    }

    if($("#html5-video").size() > 0){
        //product page video functionality - uses videojs plugin
        var videoPlayer = videojs("html5-video");


        $("#productDetailsVideoButton").click(function(e){

            $("#video-box").css("visibility","visible");
            //in case we display flv for old products
            $("#video-box object").css("visibility","visible");

            videoPlayer.play();

        });

        videoPlayer.on("ended", function(){

            setTimeout(function(){

                //in case we display flv for old products
                $('#video-box').css("visibility","hidden");
                $("#video-box object").css("visibility","hidden");

            },70);

            videoPlayer.currentTime(0).pause();

        });

        $('#video-box').hover(
            function(){
                $('.close-video').fadeIn();
            },
            function(){
                $('.close-video').fadeOut();
            }
        );

        $('.close-video').click(function(){

            setTimeout(function(){

                //in case we display flv for old products
                $("#video-box object").css("visibility","hidden");
                $("#video-box").css("visibility","hidden");

            },70);
            videoPlayer.currentTime(0).pause();


            return false;
        });

    }

    $('#ymal a').click(function() {
        NAP.analytics.recordFindingMethod('YMAL');
        NAP.analytics.trackElement('YMAL', this);
    });

});
